{
  "version": 3,
  "sources": ["../../../../Documents/1personalPrrojects/fatoora-reader-app/node_modules/@kawkab-oss/node-tlv/lib/util.js", "../../../../Documents/1personalPrrojects/fatoora-reader-app/node_modules/@kawkab-oss/node-tlv/lib/decoder/Gpo.js", "../../../../Documents/1personalPrrojects/fatoora-reader-app/node_modules/@kawkab-oss/node-tlv/lib/decoder/Record.js", "../../../../Documents/1personalPrrojects/fatoora-reader-app/node_modules/@kawkab-oss/node-tlv/lib/Dictionary.js", "../../../../Documents/1personalPrrojects/fatoora-reader-app/node_modules/@kawkab-oss/node-tlv/lib/decoder/Select.js", "../../../../Documents/1personalPrrojects/fatoora-reader-app/node_modules/@kawkab-oss/node-tlv/lib/decoder/Gac.js", "../../../../Documents/1personalPrrojects/fatoora-reader-app/node_modules/@kawkab-oss/node-tlv/lib/decoder/GetData.js", "../../../../Documents/1personalPrrojects/fatoora-reader-app/node_modules/@kawkab-oss/node-tlv/lib/decoder/Template.js", "../../../../Documents/1personalPrrojects/fatoora-reader-app/node_modules/@kawkab-oss/node-tlv/lib/decoder/Terminal.js", "../../../../Documents/1personalPrrojects/fatoora-reader-app/node_modules/@kawkab-oss/node-tlv/lib/Decoder.js", "../../../../Documents/1personalPrrojects/fatoora-reader-app/node_modules/@kawkab-oss/node-tlv/lib/TLV.js", "../../../../Documents/1personalPrrojects/fatoora-reader-app/node_modules/@kawkab-oss/fatoora-parser/www/index.js", "../../../../Documents/1personalPrrojects/fatoora-reader-app/netlify/functions/hello-world/hello-world.ts"],
  "sourceRoot": "C:/Users/Asim/AppData/Local/Temp/tmp-9604568-D1g8qVdt313J",
  "sourcesContent": ["/**\n * Created by coolbong on 2017-02-03.\n */\nconst Buffer = require('buffer/').Buffer;  // note: the trailing slash is important!\n\n/**\n * convert to Buffer\n * @param {string | Buffer | number} data\n * @return {Buffer}\n */\nfunction toBuffer(data) {\n    if (Buffer.isBuffer(data)) {\n        return newBuffer(data);\n    } else if (typeof data === 'string') {\n        data = strip(data);\n        return newBuffer(data);\n    } else if (typeof data === 'number') {\n        var h = data.toString(16);\n        if ((h.length & 1) === 1) {\n            h = '0' + h;\n        }\n        return newBuffer(h);\n    } else {\n        return newBuffer(0);\n    }\n}\n\n\n/**\n * make new Buffer\n *\n * @param {string | Buffer | number} num\n * @returns {Buffer}\n */\nfunction newBuffer(num) {\n    if (Buffer.isBuffer(num)) {\n        return Buffer.from(num);\n    } else if (typeof num === 'string') {\n        return Buffer.from(num, 'hex');\n    } else if (typeof num === 'number') {\n        return Buffer.alloc(num);\n    } else {\n        return Buffer.alloc(num);\n    }\n}\n\n\n\n/**\n * convert to hex string\n *\n * @param {number | Buffer | string} num\n * @returns {string}\n */\nfunction toHexString(num) {\n    num = num || 0;\n\n    if (Buffer.isBuffer(num)) {\n        return num.toString('hex').toUpperCase();\n    } else if (typeof num === 'string') {\n        num = strip(num);\n        if ((num.length === 0) || num === '') {\n            num = '';\n        }\n        return num;\n    } else {\n        var h = num.toString(16).toUpperCase();\n        if ((h.length & 1) === 1) {\n            h = '0' + h;\n        }\n        return h;\n    }\n}\n\nfunction toAscii(hexstr) {\n    hexstr = hexstr || '';\n\n    var buf = toBuffer(hexstr);\n\n    return buf.toString('ascii');\n}\n\n/**\n * convert to number\n *\n * @param {string | buffer | number} val\n * @returns {number}\n */\nfunction toNumber(val) {\n    val = val || '';\n    var str;\n    if (Buffer.isBuffer(val)) {\n        str = toHexString(val);\n    } else if (typeof val === 'string') {\n        str = strip(val)\n    } else if (typeof val === 'number'){\n        return val;\n    } else {\n        return 0;\n    }\n\n    return parseInt(str, 16);\n}\n\n\n/**\n *  remove space and tab\n *\n * @param {string} str\n * @returns {string}\n */\nfunction strip(str) {\n    str = str || '';\n    return str.replace(/\\s+/g, '');\n}\n\nfunction u1(buffer, offset, encoding) {\n    encoding = encoding || 'hex';\n    if (encoding === 'hex') {\n        return toHexString(buffer[offset]);\n    } else if (encoding === 'number') {\n        return toNumber(toHexString(buffer.slice(offset, offset+2)));\n    }\n}\n\nfunction u2(buffer, offset, encoding) {\n    encoding = encoding || 'hex';\n    if (encoding === 'hex') {\n        return toHexString(buffer.slice(offset, offset+2));\n    } else if (encoding === 'number') {\n        return toNumber(toHexString(buffer.slice(offset, offset+2)));\n    }\n}\n\nfunction un(buffer, offset, len, encoding) {\n    encoding = encoding || 'hex';\n    len = len || buffer.length;\n    if (encoding === 'hex') {\n        return toHexString(buffer.slice(offset, offset+len));\n    } else if (encoding === 'number') {\n        return toNumber(toHexString(buffer.slice(offset, offset+len)));\n    }\n}\n\nfunction bitOn(number, bit) {\n    return ((number & bit) === bit);\n}\n\nfunction getBitOn(number, bit) {\n    return ((number & bit) === bit) ? '1' : '0';\n}\n\nmodule.exports  = {\n    toBuffer: toBuffer,\n    newBuffer: newBuffer,\n    toHexString: toHexString,\n    toAscii: toAscii,\n    toNumber: toNumber,\n    strip: strip,\n    u1: u1,\n    u2: u2,\n    un: un,\n    bitOn: bitOn,\n    getBitOn: getBitOn\n};\n", "/**\n * Created by coolbong on 2017-02-14.\n */\n\nvar toBuffer = require('../util').toBuffer;\nvar toHexString = require('../util').toHexString;\n\n/**\n * AIP (Application Interchange Profile)\n * tag: 82 (contact)\n * tag: D8 (contactless)\n *\n * @param tlv\n * @returns {Array}\n */\nfunction ApplicationInterchangeProfile(tlv) {\n    var value = toBuffer(tlv.getValue());\n\n    var code = value[0];\n    var desc = [];\n    //desc.push('Application Interchange Profile [' + tlv.getTag() + ']: ' + tlv.getValue());\n\n    if ((code & 0x80) === 0x80) {\n        desc.push('RFU');\n    }\n\n    if ((code & 0x40) === 0x40) {\n        desc.push('4000 Byte 1 b7: SDA supported (Offline Static Data Authenticate)');\n    }\n\n    if ((code & 0x20) === 0x20) {\n        desc.push('2000 Byte 1 b6: DDA supported (Offline Dynamic Data Authenticate)');\n    }\n\n    if ((code & 0x10) === 0x10) {\n        desc.push('1000 Byte 1 b5: Cardholder verification is supported');\n    }\n\n    if ((code & 0x08) === 0x08) {\n        desc.push('0800 Byte 1 b4: Terminal risk management is to be performed');\n    }\n\n    if ((code & 0x04) === 0x04) {\n        desc.push('0400 Byte 1 b3: Issuer authentication is supported');\n    }\n\n    if ((code & 0x02) === 0x02) {\n        desc.push('0200 Byte 1 b2: RFU');\n    }\n\n    if ((code & 0x01) === 0x01) {\n        desc.push('0100 Byte 1 b1: CDA supported');\n    }\n\n    code = value[1];\n    if ((code & 0x80) === 0x80) {\n        desc.push('0080 Byte 2 b8: Reserved for use by the EMV Contactless Specifications');\n    }\n\n    return desc;\n}\n\n/**\n * AFL (Application File Locator)\n * '94' contact\n * 'D9' contactless\n *\n * @param tlv\n * @return {Array}\n */\nfunction ApplicationFileLocator(tlv) {\n\n\n    var buf = toBuffer(tlv.getValue());\n    var len = buf.length;\n\n    if (len % 4 !== 0) {\n        return [('Invalid data length: length % 4: ' + (len % 4))];\n    }\n\n    var cnt = len / 4;\n    var offset = 0;\n    var items = [];\n\n    for (var i=0; i<cnt; i++) {\n        var chunk = buf.slice(offset, offset + 4); offset += 4;\n        items.push(chunk);\n    }\n\n\n    var desc = [];\n    var str;\n    items.forEach(function (item) {\n        str = toHexString(item);\n        str += ' SFI: ' + toHexString(item[0] >> 3) + ' ';\n        if (item[1] === item[2]) {\n            str += ' record: ' + toHexString(item[1]);\n        } else {\n            str += ' record: ' + toHexString(item[1]) + ' - ' + toHexString(item[2]);\n        }\n        desc.push(str);\n    });\n\n    tlv.afe = items;\n    tlv.getCommand = function() {\n        var cmds = [];\n        tlv.afe.forEach(function (data) {\n            var cmd;\n            var p2;\n            for(var i=data[1]; i<=data[2]; i++) {\n                p2 = data[0] | 0x04;\n                cmd = '00B2';\n                cmd += toHexString(i);\n                cmd += toHexString(p2);\n                cmd += '00';\n                cmds.push(cmd);\n            }\n        });\n        return cmds;\n    };\n\n    return desc\n}\n\nfunction ApplicationFileLocatorFunction(tlv) {\n  var buf = tlv.getValue('buffer');\n  var cnt = tlv.getLength() / 4;\n  var offset = 0;\n  var items = [];\n\n  for (var i=0; i<cnt; i++) {\n    var chunk = buf.slice(offset, offset + 4); offset += 4;\n    items.push(chunk);\n  }\n  tlv.afe = items;\n  tlv.getCommand = function() {\n    var cmds = [];\n    tlv.afe.forEach(function (data) {\n      var cmd;\n      var p2;\n      for(var i=data[1]; i<=data[2]; i++) {\n        p2 = data[0] | 0x04;\n        cmd = '00B2';\n        cmd += toHexString(i);\n        cmd += toHexString(p2);\n        cmd += '00';\n        cmds.push(cmd);\n      }\n    });\n    return cmds;\n  };\n}\n\n\n\nmodule.exports = {\n    ApplicationFileLocator : ApplicationFileLocator,\n    ApplicationFileLocatorFunction: ApplicationFileLocatorFunction,\n    ApplicationInterchangeProfile : ApplicationInterchangeProfile\n};\n", "/**\n * Created by coolbong on 2017-02-14.\n */\nvar toBuffer = require('../util').toBuffer;\nvar toHexString = require('../util').toHexString;\nvar toAscii = require('../util').toAscii;\nvar bitOn = require('../util').bitOn;\n\n\n/**\n * Track 1 Data\n * The Track 1 Data contains the data objects of the track 1 according to ISO/IEC 7813\n * Structure B, excluding start sentinel, end sentinel and LRC. The Track 1 Data may be\n * used by the terminal for authorization and clearing.\n *\n * tag: '56'\n * [Exclude] STX : Start sentinel \"%\"\n * FC : Format code \"B\" (The format described here. Format \"A\" is reserved for proprietary use.)\n * PAN : Primary Account Number, up to 19 digits\n * FS : Separator \"^\"\n * NM : Name, 2 to 26 characters (including separators, where appropriate, between surname, first name etc.)\n * FS : Separator \"^\"\n * ED : Expiration data, 4 digits or \"^\"\n * SC : Service code, 3 digits or \"^\"\n * DD : Discretionary data, balance of characters\n * [Exclude] ETX : End sentinel \"?\"\n * [Exclude] LRC : Longitudinal redundancy check, calculated according to ISO/IEC 7811-2\n *\n * @param tlv\n * @return {Array}\n */\nfunction Track1Data(tlv) {\n\n    var desc = [];\n    var value = toAscii(tlv.getValue());\n    var offset = 0;\n\n    if (value[0] !== 'B') {\n        desc.push('Invalid format code (tract 1 data): ' + value[0]);\n        return desc;\n    }\n    desc.push('FC: ' + value[0]); offset += 1;\n    var idx = value.indexOf('^');\n\n    desc.push('PAN: ' + value.substring(offset, idx)); offset = idx;\n    desc.push('FS : (Field Separator): ' + value[offset]); offset += 1;\n    idx = value.indexOf('^', offset);\n    desc.push('NM : (Name): ' + value.substring(offset, idx)); offset = idx;\n    desc.push('FS : (Field Separator): ' + value[offset]); offset += 1;\n    desc.push('ED : (Expiration data YY/MM): ' + value.substring(offset, offset+2) + '/' + value.substring(offset+2, offset+4)); offset += 4;\n    desc.push('SC : (Service Code): ' + value.substring(offset, offset+3)); offset += 3;\n    desc.push('DD : (Discretionary data) : ' + value.substring(offset));\n\n\n    return desc;\n}\n\n/**\n * Track 2 Data\n * Track 2 Equivalent Data\n * Contains the data objects of track 2 of the magnetic stripe according to the ISO.IEC\n * 7813, excluding start sentinel, end sentinel, and longitudinal redundancy check (LRC)\n *\n * tag: '57'\n *\n * ISO/IEC 7813\n * https://en.wikipedia.org/wiki/ISO/IEC_7813#Track_2\n *\n * [Exclude] STX : Start sentinel \";\"\n * PAN : Primary Account Number, up to 19 digits, as defined in ISO/IEC 7812-1\n * FS : Separator \"=\"\n * ED : Expiration date, YYMM or \"=\" if not present\n * SC : Service code, 3 digits or \"=\" if not present\n * DD : Discretionary data, balance of available digits\n * [Exclude]ETX : End sentinel \"?\"\n * [Exclude]LRC : Longitudinal redundancy check, calculated according to ISO/IEC 7811-2\n *\n * @param tlv\n * @returns {Array}\n */\nfunction Track2Data(tlv) {\n    var desc = [];\n    var value = tlv.getValue();\n    var offset = 0;\n\n    var idx = value.indexOf('D');\n    if (idx === -1) {\n        desc.push('invalid Track 2 equivalent data');\n        return desc;\n    }\n    desc.push('PAN: ' + value.substring(offset, idx)); offset = idx;\n    offset += 1; // for FS Separator 'D'\n    desc.push('ED : (Expiration data YY/MM): ' + value.substring(offset, offset+2) + '/' + value.substring(offset+2, offset+4)); offset += 4;\n    desc.push('SC : (Service Code): ' + value.substring(offset, offset+3)); offset += 3;\n    idx = value.indexOf('F', offset);\n\n    if (idx !== -1) {\n        desc.push('DD : (Discretionary data) : ' + value.substring(offset, idx));\n    }\n    return desc;\n}\n\n\n/**\n * Track 1 Discretionary Data\n *\n * Discretionary part of track 1 according to ISO/IEC 7813\n * @param tlv\n */\nfunction Track1DiscretionaryData(tlv) {\n    var desc = [];\n    desc.push(toAscii(tlv.getValue()));\n    return desc;\n}\n\n/**\n * CDOL1 (Card Risk Management Data Object List 1)\n * tag: 8C\n *\n * @param tlv\n * @returns {Array}\n */\nfunction CDOL1 (tlv) {\n    var dol = tlv.parseDolValue();\n\n    var desc = [];\n    desc.push('CDOL1: 8C CDOL1 Related Data length: ' + toHexString(dol.getDolRelatedDataLength()) + ' (' + dol.getDolRelatedDataLength() + ')');\n    var dolList = dol.getList();\n    dolList.forEach(function (tl) {\n        desc.push(tl.getTag() + ' ' + tl.getL() + ' (' + tl.getLength() + ') ' + tl.getName());\n    });\n\n    return desc;\n}\n\n\n/**\n * CDOL2 (Card Risk Management Data Object List 2)\n * tag: '8D'\n *\n * @param tlv\n * @returns {Array}\n */\nfunction CDOL2 (tlv) {\n    var dol = tlv.parseDolValue();\n    var desc = [];\n    desc.push('CDOL2: CDOL2 Related Data length: ' + toHexString(dol.getDolRelatedDataLength()) + ' (' + dol.getDolRelatedDataLength() + ')');\n    var dolList = dol.getList();\n    dolList.forEach(function (tl) {\n        desc.push(tl.getTag() + ' ' + tl.getL() + ' (' + tl.getLength() + ') ' + tl.getName());\n    });\n\n    return desc;\n}\n\n\n\nfunction CVM(data) {\n    var value = toBuffer(data);\n    var desc = [];\n    var code = value[0] & 0x3F;\n\n    desc.push('CVM: ' + toHexString(value));\n    //desc.push('CV Rule Byte 1 (Leftmost): Cardholder Verification Method (CVM) codes: ' + toHexString(this.value[0]));\n\n    if ((value[0] & 0x40) === 0x40)  {\n        desc.push('\\tMove to next rule if verification is unsuccessful');\n    } else {\n        desc.push('\\tFail cardholder verification if this CVM is unsuccessful');\n    }\n\n    if (code === 0x00) { // 0b0000 0000\n        desc.push('\\tFail CVM processing');\n    } else if (code === 0x01) { // 0b0000 0001\n        desc.push('\\tPlaintext PIN verification performed by ICC');\n    } else if (code === 0x02) { // 0b0000 0010\n        desc.push('\\tEnciphered PIN verified online')\n    } else if (code === 0x03) { // 0b0000 0011\n        desc.push('\\tPlaintext PIN verification performed by ICC and signature(paper)');\n    } else if (code === 0x04) { // 0b0000 0100\n        desc.push('\\tEnciphered PIN verification performed by ICC');\n    } else if (code === 0x05) { // 0b0000 0101\n        desc.push('\\tEnciphered PIN verification performed by ICC and signature (paper)');\n    } else if (code === 0x1E) { // 0b0001 1110\n        desc.push('\\tSignature (paper)');\n    } else if (code === 0x1F) { // 0b0001 1111\n        desc.push('\\tNo CVM required');\n    }\n\n    code = value[1];\n\n    //desc.push('CV Rule Byte 2  Cardholder Verification Method (CVM)  Condition codes: ' + toHexString(this.value[1]));\n    if (code === 0x00) {\n        desc.push('\\tAlways');\n    } else if (code === 0x01) {\n        desc.push('\\tIf unattended cash');\n    } else if (code === 0x02) {\n        desc.push('\\tIf not unattended cash and not manual cash and not purchase with cashback');\n    } else if (code === 0x03) {\n        desc.push('\\tIf terminal supports the CVM');\n    } else if (code === 0x04) {\n        desc.push('\\tIf manual cash');\n    } else if (code === 0x05) {\n        desc.push('\\tIf purchase with cashback');\n    } else if (code === 0x06) {\n        desc.push('\\tIf transaction is in the application currency 21 and is under X value (see section 10.5 for a discussion of X)');\n    } else if (code === 0x07) {\n        desc.push('\\tIf transaction is in the application currency and is over X value');\n    } else if (code === 0x08) {\n        desc.push('\\tIf transaction is in the application currency and is under Y value (see section 10.5 for a discussion of Y)');\n    } else if (code === 0x09) {\n        desc.push('\\tIf transaction is in the application currency and is over Y value');\n    }\n\n    return desc;\n}\n\n\n/**\n * CVM List (Cardholder Verification Method List)\n * tag: '8E'\n *\n * @pram tlv\n * @returns {Array}\n */\n\nfunction CVMList(tlv) {\n\n    value = toBuffer(tlv.getValue());\n    this.cvm = [];\n    var len = value.length;\n\n    // x : 4 byte\n    this.amountX = value.slice(0, 4);\n    this.amountY = value.slice(4, 8);\n\n    var value = value.slice(8, len);\n\n    var cnt = value.length / 2;\n    var offset = 0;\n    for (var i=0; i<cnt; i++) {\n        var item = value.slice(offset, offset+2);\n        offset += 2;\n        this.cvm.push(item);\n    }\n\n    var desc = [];\n    desc.push('amount x: ' + toHexString(this.amountX));\n    desc.push('amount y: ' + toHexString(this.amountY));\n\n    this.cvm.forEach(function(item) {\n        desc = desc.concat(CVM(item));\n        //desc = desc.concat(toHexString(item));\n        //desc.push('');\n    });\n    return desc;\n}\n\n\n/**\n * Issuer Country Code\n * tag: '5F28'\n *\n * @param tlv\n * @returns {Array}\n */\nfunction IssuerCountryCode(tlv) {\n\n    var value = tlv.getValue();\n    var issuerCountryCode = require('./json/CountryCode.json');\n    var obj = issuerCountryCode[value];\n\n    var desc = [];\n    if (obj !== undefined) {\n        desc.push('country info: name : ' + obj['country'] + ' (' + obj['A3'] + ')');\n    } else {\n        desc.push('unknown country code. plz update ISO3166.');\n    }\n    return desc;\n}\n\n\n/**\n * Service Code\n * http://www.gae.ucm.es/~padilla/extrawork/tracks.html\n * tag: '5F30'\n *\n * @param tlv\n * @returns {Array}\n */\nfunction ServiceCode(tlv) {\n    var value = tlv.getValue();\n\n    var desc = [];\n    //Digit 1 (most significant): Interchange and technology:\n    var digit = parseInt(value[1]);\n    var digit1InterchangeAndTech = {\n        0: '0: Reserved for future use by ISO.',\n        1: '1: Available for international interchange.',\n        2: '2: Available for international interchange and with integrated circuit, which should be used for the financial transaction when feasible.',\n        3: '3: Reserved for future use by ISO.',\n        4: '4: Reserved for future use by ISO.',\n        5: '5: Available for national interchange only, except under bilateral agreement.',\n        6: '6: Available for national interchange only, except under bilateral agreement, and with integrated circuit, which should be used for the financial transaction when feasible.',\n        7: '7: Not available for general interchange, except under bilateral agreement.',\n        8: '8: Reserved for future use by ISO.',\n        9: '9: Test.'\n    };\n\n    desc.push(digit1InterchangeAndTech[digit]);\n\n\n    digit = parseInt(value[2]);\n    var digit2AuthorizingProcessing = {\n        0: '0: Transactions are authorized following the normal rules.',\n        1: '1: Reserved for future use by ISO.',\n        2: '2: Transactions are authorized by issuer and should be online.',\n        3: '3: Reserved for future use by ISO.',\n        4: '4: Transactions are authorized by issuer and should be online, except under bilateral agreement.',\n        5: '5: Reserved for future use by ISO.',\n        6: '6: Reserved for future use by ISO.',\n        7: '7: Reserved for future use by ISO.',\n        8: '8: Reserved for future use by ISO.',\n        9: '9: Reserved for future use by ISO.'\n    };\n    desc.push(digit2AuthorizingProcessing[digit]);\n\n\n    digit = parseInt(value[3]);\n    var digit3RangeOfServices = {\n        0: '0: No restrictions and PIN required.',\n        1: '1: No restrictions.',\n        2: '2: Goods and services only (no cash).',\n        3: '3: ATM only and PIN required.',\n        4: '4: Cash only.',\n        5: '5: Goods and services only (no cash) and PIN required.',\n        6: '6: No restrictions and require PIN when feasible.',\n        7: '7: Goods and services only (no cash) and require PIN when feasible.',\n        8: '8: Reserved for future use by ISO.',\n        9: '9: Reserved for future use by ISO.'\n    };\n\n    desc.push(digit3RangeOfServices[digit]);\n\n    return desc;\n}\n\n/**\n * Application Usage Control\n *\n * Indicates issuer's specified restrictions on the geographic usage and services allowed for the application\n * tag: '9F07'\n *\n * @param tlv\n * @returns {Array}\n */\nfunction ApplicationUsageControl(tlv) {\n    var buff = toBuffer(tlv.getValue());\n    var code = buff[0];\n    var desc = [];\n\n    desc.push('byte1: ' + toHexString(code));\n    if ((code & 0x80) === 0x80) {\n        desc.push('\\tb8 Valid for domestic cash transactions');\n    }\n    if ((code & 0x40) === 0x40) {\n        desc.push('\\tb7 Valid for international cash transactions');\n    }\n    if ((code & 0x20) === 0x20) {\n        desc.push('\\tb6 Valid for domestic goods');\n    }\n    if ((code & 0x10) === 0x10) {\n        desc.push('\\tb5 Valid for international goods');\n    }\n    if ((code & 0x08) === 0x08) {\n        desc.push('\\tb4 Valid for domestic services');\n    }\n    if ((code & 0x04) === 0x04) {\n        desc.push('\\tb3 Valid for international services');\n    }\n    if ((code & 0x02) === 0x02) {\n        desc.push('\\tb2 Valid at ATMs');\n    }\n    if ((code & 0x01) === 0x01) {\n        desc.push('\\tb1 Valid at terminals other than ATMs');\n    }\n\n    code = buff[1];\n    desc.push('byte2: ' + toHexString(code));\n    if ((code & 0x80) === 0x80) {\n        desc.push('\\tb8 Domestic cash-back allowed');\n    }\n    if ((code & 0x40) === 0x40) {\n        desc.push('\\tb7 International cash-back allowed');\n    }\n    return desc;\n}\n\n/**\n * IAC (Issuer Action Code)\n * tag: '9F0D': 'Default', '9F0E': Denial , '9F0F': Online\n * length: 5\n *\n * @param tlv\n * @return {Array}\n */\nfunction IssuerActionCode(tlv) {\n    var desc = [];\n\n    var buf = tlv.getValue('buffer');\n\n    var oneByte = buf[0];\n    desc.push('Byte 1: ' + toHexString(oneByte));\n\n    if (bitOn(oneByte, 0x80)) desc.push('\\tb8 Offline Data authentication was not performed');\n    if (bitOn(oneByte, 0x40)) desc.push('\\tb7 SDA failed');\n    if (bitOn(oneByte, 0x20)) desc.push('\\tb6 ICC Data missing');\n    if (bitOn(oneByte, 0x10)) desc.push('\\tb5 Card appears on terminal exception file');\n    if (bitOn(oneByte, 0x08)) desc.push('\\tb4 DDA failed');\n    if (bitOn(oneByte, 0x04)) desc.push('\\tb3 CDA failed');\n    //if (bitOn(oneByte, 0x03))desc.push('\\tb2-1 RFU');\n\n    oneByte = buf[1];\n    desc.push('Byte 2: ' + toHexString(oneByte));\n    if (bitOn(oneByte, 0x80)) desc.push('\\tb8 Chip card and terminal have different application versions');\n    if (bitOn(oneByte, 0x40)) desc.push('\\tb7 Expired application');\n    if (bitOn(oneByte, 0x20)) desc.push('\\tb6 Application not yet effective');\n    if (bitOn(oneByte, 0x10)) desc.push('\\tb5 Requested service not allowed for card product');\n    if (bitOn(oneByte, 0x08)) desc.push('\\tb4 New card');\n    //if (bitOn(oneByte, 0x07)) desc.push('\\tb3-b1 RFU');\n\n    oneByte = buf[2];\n    desc.push('Byte 3: ' + toHexString(oneByte));\n    if (bitOn(oneByte, 0x80)) desc.push('\\tb8 Cardholder verification was not successful');\n    if (bitOn(oneByte, 0x40)) desc.push('\\tb7 Unrecognized Cardholder Verification Method (CVM)');\n    if (bitOn(oneByte, 0x20)) desc.push('\\tb6 PIN Try Limit exceeded');\n    if (bitOn(oneByte, 0x10)) desc.push('\\tb5 PIN entry required but PIN pad not present/working');\n    if (bitOn(oneByte, 0x08)) desc.push('\\tb4 PIN entry required, PIN pad present but PIN not entered');\n    if (bitOn(oneByte, 0x04)) desc.push('\\tb3 Online PIN entered');\n    //if (bitOn(oneByte, 0x03)) desc.push('\\tb2-1 RFU');\n\n    oneByte = buf[3];\n    desc.push('Byte 4: ' + toHexString(oneByte));\n    if (bitOn(oneByte, 0x80)) desc.push('\\tb8 Transaction exceeds floor limit');\n    if (bitOn(oneByte, 0x40)) desc.push('\\tb7 Lower consecutive offline limit exceeded');\n    if (bitOn(oneByte, 0x20)) desc.push('\\tb6 Upper consecutive offline limit exceeded');\n    if (bitOn(oneByte, 0x10)) desc.push('\\tb5 Transaction selected randomly for online processing');\n    if (bitOn(oneByte, 0x08)) desc.push('\\tb4 Merchant forced transaction online');\n    //if (bitOn(oneByte, 0x04)) desc.push('\\tb3-1 RFU');\n\n    oneByte = buf[4];\n    desc.push('Byte 5: ' + toHexString(oneByte));\n    if (bitOn(oneByte, 0x80)) desc.push('\\tb8 Default TDOL used');\n    if (bitOn(oneByte, 0x40)) desc.push('\\tb7 Issuer Authentication was unsuccessful');\n    if (bitOn(oneByte, 0x20)) desc.push('\\tb6 Script processing failed before final GENERATE AC');\n    if (bitOn(oneByte, 0x10)) desc.push('\\tb5 Script processing failed after final GENERATE AC');\n    //if (bitOn(oneByte, 0x0F)) desc.push('\\tb4-1 RFU');\n\n    return desc;\n}\n\n\n\nmodule.exports = {\n    Track1Data: Track1Data,\n    Track2Data: Track2Data,\n    Track1DiscretionaryData: Track1DiscretionaryData,\n    CDOL1 : CDOL1,\n    CDOL2 : CDOL2,\n    CVMList : CVMList,\n    IssuerCountryCode : IssuerCountryCode,\n    ServiceCode : ServiceCode,\n    ApplicationUsageControl : ApplicationUsageControl,\n    IssuerActionCode: IssuerActionCode\n};", "/**\n * Created by coolbong on 2015-04-28.\n */\n\n//FIXME function (TAG) return  {tag, length, description};\n//need length information string info to {}\n\nfunction Dictionary() {\n\n}\n\n// FIXME: dictionary data to  { tag: 42, desc: 'Application Identifier(AID)', length: ?? }\n\nvar emvDictionary = {\n    '42' : 'Issuer Identification Number (IIN)',\n    '4F' : 'Application Identifier(AID)',\n    '50' : 'Application Label',\n    '57' : 'Track 2 Equivalent Data',\n    '5A' : 'Application Primary Account Number (PAN)',\n    '5F20' : 'Cardholder Name',\n    '5F24' : 'Application Expiration Date',\n    '5F25' : 'Application Effective Date',\n    '5F28' : 'Issuer Country Code',\n    '5F2A' : 'Transaction Currency Code',\n    '5F2D' : 'Language Preference',\n    '5F30' : 'Service Code',\n    '5F34' : 'Application Primary Account Number (PAN) Sequence Number',\n    '5F36' : 'Transaction Currency Exponent',\n    '5F50' : 'Issuer URL',\n    '5F53' : 'International Bank Account Number (IBAN)',\n    '5F54' : 'Bank Identifier Code (BIC)',\n    '5F55' : 'Issuer Country Code (alpha2 format)',\n    '5F56' : 'Issuer Country Code (alpha3 format)',\n    '61' : 'Application Template',\n    '6F' : 'File Control Information (FCI) Template',\n    '70' : 'READ RECORD Response Message Template',\n    '71' : 'Issuer Script Template 1',\n    '72' : 'Issuer Script Template 2',\n    '73' : 'Directory Discretionary Template',\n    '77' : 'Response Message Template Format 2',\n    '80' : 'Response Message Template Format 1',\n    '81' : 'Amount, Authorised (Binary)',\n    '82' : 'Application Interchange Profile',\n    '83' : 'Command Template',\n    '84' : 'Dedicated File (DF) Name',\n    '86' : 'Issuer Script Command',\n    '87' : 'Application Priority Indicator',\n    '88' : 'Short File Identifier (SFI)',\n    '89' : 'Authorisation Code',\n    '8A' : 'Authorisation Response Code',\n    '8C' : 'Card Risk Management Data Object List 1 (CDOL1)',\n    '8D' : 'Card Risk Management Data Object List 2 (CDOL2)',\n    '8E' : 'Cardholder Verification Method (CVM) List',\n    '8F' : 'Certification Authority Public Key Index',\n    '90' : 'Issuer Public Key Certificate',\n    '91' : 'Issuer Authentication Data',\n    '92' : 'Issuer Public Key Remainder',\n    '93' : 'Signed Static Application Data',\n    '94' : 'Application File Locator (AFL) (contact)',\n\n    '95' : 'Terminal Verification Results',\n    '97' : 'Transaction Certificate Data Object List (TDOL)',\n    '98' : 'Transaction Certificate (TC) Hash Value',\n    '99' : 'Transaction Personal Identification Number (PIN) Data',\n    '9A' : 'Transaction Date',\n    '9B' : 'Transaction Status Information',\n    '9C' : 'Transaction Type',\n    '9D' : 'Directory Definition File (DDF) Name',\n    '9F01' : 'Acquirer Identifier',\n    '9F02' : 'Amount, Authorised (Numeric)',\n    '9F03' : 'Amount, Other (Numeric)',\n    '9F04' : 'Amount, Other (Binary)',\n    '9F05' : 'Application Discretionary Data',\n    '9F06' : 'Application Identifier (AID) - terminal',\n    '9F07' : 'Application Usage Control',\n    '9F08' : 'Application Version Number',\n    '9F09' : 'Application Version Number',\n    '9F0B' : 'Cardholder Name Extended',\n    '9F0D' : 'Issuer Action Code - Default',\n    '9F0E' : 'Issuer Action Code - Denial',\n    '9F0F' : 'Issuer Action Code - Online',\n    '9F10' : 'Issuer Application Data',\n    '9F11' : 'Issuer Code Table Index',\n    '9F12' : 'Application Preferred Name',\n    '9F13' : 'Last Online Application Transaction Counter (ATC) Register',\n    '9F14' : 'Lower Consecutive Offline Limit',\n    '9F15' : 'Merchant Category Code',\n    '9F16' : 'Merchant Identifier',\n    '9F18' : 'Issuer Script Identifier',\n    '9F1A' : 'Terminal Country Code',\n    '9F1B' : 'Terminal Floor Limit',\n    '9F1C' : 'Terminal Identification',\n    '9F1D' : 'Terminal Risk Management Data',\n    '9F1E' : 'Interface Device (IFD) Serial Number',\n    '9F1F' : 'Track 1 Discretionary Data',\n    '9F20' : 'Track 2 Discretionary Data',\n    '9F21' : 'Transaction Time',\n    '9F23' : 'Upper Consecutive Offline Limit',\n    '9F26' : 'Application Cryptogram',\n    '9F27' : 'Cryptogram Information Data',\n    '9F2D' : 'ICC PIN Encipherment Public Key Certificate',\n    '9F2E' : 'ICC PIN Encipherment Public Key Exponent',\n    '9F2F' : 'ICC PIN Encipherment Public Key Remainder',\n    '9F32' : 'Issuer Public Key Exponent',\n    '9F33' : 'Terminal Capabilities',\n    '9F34' : 'Cardholder Verification Method (CVM) Results',\n    '9F35' : 'Terminal Type',\n    '9F36' : 'Application Transaction Counter (ATC)',\n    '9F37' : 'Unpredictable Number',\n    '9F38' : 'Processing Options Data Object List (PDOL)',\n    '9F39' : 'Point-of-Service (POS) Entry Mode',\n    '9F3A' : 'Amount, Reference Currency',\n    '9F3B' : 'Application Reference Currency',\n    '9F3C' : 'Transaction Reference Currency Code',\n    '9F3D' : 'Transaction Reference Currency Exponent',\n    '9F40' : 'Additional Terminal Capabilities',\n    '9F41' : 'Transaction Sequence Counter',\n    '9F42' : 'Application Currency Code',\n    '9F43' : 'Application Reference Currency Exponent',\n    '9F44' : 'Application Currency Exponent',\n    '9F45' : 'Data Authentication Code',\n    '9F46' : 'ICC Public Key Certificate',\n    '9F47' : 'ICC Public Key Exponent',\n    '9F48' : 'ICC Public Key Remainder',\n    '9F49' : 'Dynamic Data Authentication Data Object List (DDOL)',\n    '9F4A' : 'Static Data Authentication Tag List',\n    '9F4B' : 'Signed Dynamic Application Data',\n    '9F4C' : 'ICC Dynamic Number',\n    '9F4D' : 'Log Entry',\n    '9F4E' : 'Merchant Name and Location',\n    '9F4F' : 'Log Format',\n    '9F7C' : 'Merchant Custom Data',\n    'A5' : 'File Control Information (FCI) Proprietary Template',\n    'BF0C' : 'File Control Information (FCI) Issuer Discretionary Data',\n\n    // contactless\n    'D9' : 'Application File Locator (AFL) (contactless)',\n\n    // EMV ContactlessSpecifications for Payment Systems\n    // Book C-2 Kernel 2 Specification Version 2.6 February 2016\n\n    '9F29' : 'Extended Selection',\n    '9F2A' : 'Kernel Identifier',\n    '5F57' : 'Account Type',\n    '9F50' : 'Offline Accumulator Balance',\n    '9F52' : 'Card Verification Result',\n    '9F53' : 'Transaction Category Code',\n    '9F5D' : 'Application Capabilities Information',\n    '9F5E' : 'DS ID',\n    '9F60' : 'CVC3 (Track1)',\n    '9F61' : 'CVC3 (Track2)',\n    '9F69' : 'UDOL',\n    '9F6A' : 'Unpredictable Number (Numeric)',\n    '9F6D' : 'Mag-stripe Application Version Number (Reader)',\n    '9F6E' : 'Third Party Data',\n    '9F70' : 'Protected Data Envelope 1',\n    '9F71' : 'Protected Data Envelope 2',\n    '9F72' : 'Protected Data Envelope 3',\n    '9F73' : 'Protected Data Envelope 4',\n    '9F74' : 'Protected Data Envelope 5',\n    '9F75' : 'Unprotected Data Envelope 1',\n    '9F76' : 'Unprotected Data Envelope 2',\n    '9F77' : 'Unprotected Data Envelope 3',\n    '9F78' : 'Unprotected Data Envelope 4',\n    '9F79' : 'Unprotected Data Envelope 5',\n    'DF41' : 'DS Management Control',\n    'DF4B' : 'POS Cardholder Interaction Information',\n    'DF60' : 'DS Input (Card)',\n    'DF61' : 'DS Digest H',\n    'DF62' : 'DS ODS Info',\n    'DF63' : 'DS ODS Term',\n    'DF8104' : 'Balance Read Before Gen AC',\n    'DF8105' : 'Balance Read After Gen AC',\n    'DF8106' : 'Data Needed',\n    'DF8107' : 'CDOL1 Related Data',\n    'DF8108' : 'DS AC Type',\n    'DF8109' : 'DS Input (Term)',\n    'DF810A' : 'DS ODS Info For Reader',\n    'DF810B' : 'DS Summary Status',\n    'DF810C' : 'Kernel ID',\n    'DF810D' : 'DSVN Term',\n    'DF810E' : 'Post-Gen AC Put Data Status',\n    'DF810F' : 'Pre-Gen AC Put Data Status',\n    'DF8110' : 'Proceed To First Write Flag',\n    'DF8111' : 'PDOL Related Data',\n    'DF8112' : 'Tags To Read',\n    'DF8113' : 'DRDOL Related Data',\n    'DF8114' : 'Reference Control Parameter',\n    'DF8115' : 'Error Indication',\n    'DF8116' : 'User Interface Request Data',\n    'DF8117' : 'Card Data Input Capability',\n    'DF8118' : 'CVM Capability \u2013 CVM Required',\n    'DF8119' : 'CVM Capability \u2013 No CVM Required',\n    'DF811A' : 'Default UDOL',\n    'DF811B' : 'Kernel Configuration',\n    'DF811C' : 'Max Lifetime of Torn Transaction Log Record',\n    'DF811D' : 'Max Number of Torn Transaction Log Records',\n    'DF811E' : 'Mag-stripe CVM Capability \u2013 CVM Required',\n    'DF811F' : 'Security Capability',\n    'DF8120' : 'Terminal Action Code \u2013 Default',\n    'DF8121' : 'Terminal Action Code \u2013 Denial',\n    'DF8122' : 'Terminal Action Code \u2013 Online',\n    'DF8123' : 'Reader Contactless Floor Limit',\n    'DF8124' : 'Reader Contactless Transaction Limit (No On-device CVM)',\n    'DF8125' : 'Reader Contactless Transaction Limit (On-device CVM)',\n    'DF8126' : 'Reader CVM Required Limit',\n    'DF8127' : 'Time Out Value',\n    'DF8128' : 'IDS Status',\n    'DF8129' : 'Outcome Parameter Set',\n    'DF812A' : 'DD Card (Track1)',\n    'DF812B' : 'DD Card (Track2)',\n    'DF812C' : 'Mag-stripe CVM Capability \u2013 No CVM Required',\n    'DF812D' : 'Message Hold Time',\n    'DF8130' : 'Hold Time Value',\n    'DF8131' : 'Phone Message Table',\n    'DF8132' : 'Minimum Relay Resistance Grace Period',\n    'DF8133' : 'Maximum Relay Resistance Grace Period',\n    'DF8134' : 'Terminal Expected Transmission Time For Relay Resistance CAPDU',\n    'DF8135' : 'Terminal Expected Transmission Time For Relay Resistance RAPDU',\n    'DF8136' : 'Relay Resistance Accuracy Threshold',\n    'DF8137' : 'Relay Resistance Transmission Time Mismatch Threshold',\n    'FF8101' : 'Torn Record',\n    'FF8102' : 'Tags To Write Before Gen AC',\n    'FF8103' : 'Tags To Write After Gen AC',\n    'FF8104' : 'Data To Send',\n    'FF8105' : 'Data Record',\n    'FF8106' : 'Discretionary Data',\n\n\n\n    //master card\n    'C6': 'PIN Try Limit',\n    '9F17': 'PIN Try Counter',\n    '9F6C' : 'Mag Stripe Application Version Number',\n    '9F62' : 'Track 1 Bit Map for CVC3 (PCVC3TRACK1)',\n    '9F63' :'Track 1 Bit Map for UN and ATC (PUNATCTRACK1)',\n    '56' : 'Track 1 Data',\n    '9F64' : 'Track 1 Nr of ATC Digits (NATCTRACK1)',\n    '9F65' : 'Track 2 Bit Map for CVC3 (PCVC3TRACK2)',\n    '9F66' : 'Track 2 Bit Map for UN and ATC (PUNATCTRACK2)',\n    '9F6B' : 'Track 2 Data',\n    '9F67' : 'Track 2 Nr of ATC Digits (NATCTRACK2)',\n    '9F5B' : 'DSDOL',\n    '9F51' : 'DRDOL',\n    '9F5F' : 'DS Slot Availability',\n    '9F7F' : 'DS Unpredictable Number',\n    '9F7D' : 'DS Summary 1',\n    '9F6F' : 'DS Slot Management Control',\n    '9F54' : 'DS ODS Card',\n    'DF36' : 'PIN Decipherments Error Counter Limit',\n    'DF3A' : 'AC Session Key Counter Limit (contact)',\n    'DF32' : 'SMI Session Key Counter Limit (contact)',\n    'DF34' : 'AC Session Key Counter Limit (contactless)',\n    'DF33' : 'SMI Session Key Counter Limit (contactless)',\n    'C9' : 'Accumulator 1 Currency Code',\n    'D1' : 'Accumulator 1 Currency Conversion Table',\n    'CA' : 'Accumulator 1 Lower Limit',\n    'CB' : 'Accumulator 1 Upper Limit',\n    'DF16' : 'Accumulator 2 Currency Code',\n    'DF17' : 'Accumulator 2 Currency Conversion Table',\n    'DF18' : 'Accumulator 2 Lower Limit',\n    'DF19' : 'Accumulator 2 Upper Limit',\n    'D3' : 'Additional check table',\n    '9F7E' : 'Application life cycle data',\n    'C7' : 'CDOL1 related data length',\n    'DF1F' : 'Counter 2 Lower Limit',\n    'DF21' : 'Counter 2 Upper Limit',\n    'C8' : 'CRM Country Code',\n    'D6' : 'Default ARPC Response Code',\n    'DE' : 'Log Data Table',\n    'DF24' : 'MTA Currency Code',\n    'DF27' : 'Number of Days Offline Limit',\n    'DF11' : 'Accumulator 1 Control (contact)',\n    'DF12' : 'Accumulator 1 Control (contactless)',\n    'DF28' : 'Accumulator 1 CVR Dependency Data (contact)',\n    'DF29' : 'Accumulator 1 CVR Dependency Data (contactless)',\n    'DF14' : 'Accumulator 2 Control (contact)',\n    'DF15' : 'Accumulator 2 Control (contactless)',\n    'DF2A' : 'Accumulator 2 CVR Dependency Data (contact)',\n    'DF2B' : 'Accumulator 2 CVR Dependency Data (contactless)',\n    'D5' : 'Application Control (contact)',\n    'D7' : 'Application Control  (contactless) ',\n    'D8' : 'Application Interchange Profile contactless',\n    'C4' : 'Card Issuer Action Code \u2013 Default (contact)',\n    'CD' : 'Card Issuer Action Code \u2013 Default (contactless) ',\n    'C5' : 'Card Issuer Action Code - Online (contact)',\n    'CE' : 'Card Issuer Action Code - Online (contactless)',\n    'C3' : 'Card Issuer Action Code - Decline (contact)',\n    'CF' : 'Card Issuer Action Code - Decline (contactless)',\n    'DF1A' : 'Counter 1 control (Contact)',\n    'DF1B' : 'Counter 1 control (contactless)',\n    'DF2C' : 'Counter 1 CVR Dependency Data (Contact)',\n    'DF2D' : 'Counter 1 CVR Dependency Data (contactless)',\n    'DF1D' : 'Counter 2 control (Contact)',\n    'DF1E' : 'Counter 2 control (contactless)',\n    'DF2E' : 'Counter 2 CVR Dependency Data (Contact)',\n    'DF2F' : 'Counter 2 CVR Dependency Data (contactless)',\n    'DF30' : 'Interface Enabling Switch',\n    'DF22' : 'MTA CVM (contact)',\n    'DF23' : 'MTA CVM (contactless)',\n    'DF25' : 'MTA NoCVM (contact)',\n    'DF26' : 'MTA NoCVM (contactless)',\n    'DF3F' : 'Read Record Filter (contact)',\n    'DF40' : 'Read Record Filter (contactless)',\n    'DF3E' : 'Interface Identifier (contactless)',\n    'DF3C' : 'CVR Issuer Discretionary Data (contact)',\n    'DF3D' : 'CVR Issuer Discretionary Data (contactless)',\n    'DF3B' : 'Accumulator 1 Amount',\n    'DF13' : 'Accumulator 2 Amount',\n    'DF1C' : 'Counter 1 Number',\n    'DF20' : 'Counter 2 Number',\n    'DF38' : 'ICVC3 TRACK1 (contact)',\n    'DC' : 'ICVC3 TRACK1 (contactless)',\n    'DF39' : 'ICVC3 TRACK2 (contact)',\n    'DD' : 'ICVC3 TRACK2 (contactless)',\n\n\n    //master data storage\n    '9F5C' : 'DS Requested Operator ID',\n\n\n    // CPA\n    'C1' : 'Application Control'\n\n};\n\n\nDictionary.setTlv = function (tag) {\n\n};\n\nvar toNumber = require('./util').toNumber;\nvar gpoResp = require('./decoder/Gpo');\nvar record = require('./decoder/Record');\n\nvar func = [];\n\n\nfunction Map(tag) {\n    tag = toNumber(tag);\n    return func[tag];\n}\n\nMap.TAG_CARDHOLDER_NAME = 0x5f20;\nMap.TAG_CDOL1   = 0x8C;\nMap.TAG_CDOL2   = 0x8D;\nMap.TAG_CVMLIST = 0x8E;\nMap.TAG_ISSUER_COUNTRYT_CODE = 0x5F28;\nMap.TAG_SERVICE_CODE = 0x5F30;\n\nMap.TAG_AIP    = 0x82;\nMap.TAG_AIP_CL = 0xD8;\n\nfunc[Map.TAG_CARDHOLDER_NAME] = record.CardHolderName;\nfunc[Map.TAG_CDOL1] = record.CDOL1;\nfunc[Map.TAG_CDOL2] = record.CDOL2;\n// func[Map.TAG_CVMLIST] = record.CVMList;\nfunc[Map.TAG_ISSUER_COUNTRYT_CODE] = record.IssuerCountryCode;\nfunc[Map.TAG_SERVICE_CODE] = record.ServiceCode;\n\n\nfunc[Map.TAG_AIP]    = gpoResp.ApplicationInterchangeProfile;\nfunc[Map.TAG_AIP_CL] = gpoResp.ApplicationInterchangeProfile;\n\nDictionary.getName = function(tag) {\n    // fixme i need more tags\n    return emvDictionary[tag];\n};\n\n\nDictionary.getInfo = function(tlv) {\n\n    tlv.desc = Map(tlv.getTag());\n    tlv.setName(Dictionary.getName());\n};\n\n\nmodule.exports = Dictionary;", "/**\n * Created by coolbong on 2017-02-24.\n */\n\nvar toHexString = require('../util').toHexString;\n\n/**\n * Processing Options Data Object List (PDOL)\n * tag: 9F38\n * length: variable\n *\n * @param tlv\n * @returns {Array}\n */\nfunction Pdol(tlv) {\n    var dol = tlv.parseDolValue();\n\n    var desc = [];\n    desc.push('PDOL: ' + tlv.getTag() + ' PDOL Related Data length: ' + toHexString(dol.getDolRelatedDataLength()) + ' (' + dol.getDolRelatedDataLength() + ')');\n    var dolList = dol.getList();\n    dolList.forEach(function (tl) {\n        desc.push(tl.getTag() + ' ' + tl.getL() + ' (' + tl.getLength() + ') ' + tl.getName());\n    });\n\n    return desc;\n}\n\nmodule.exports = {\n    Pdol: Pdol\n};", "/**\n * Created by coolbong on 2017-02-27.\n */\nvar ut = require('../util');\nvar toHexString = ut.toHexString;\nvar toBuffer = ut.toBuffer;\nvar bitOn = ut.bitOn;\nvar u1 = ut.u1;\nvar u2 = ut.u2;\nvar un = ut.un;\n\n/**\n * CID (Cryptogram Information Data)\n * tag: 9F27\n * length: 1\n *\n * @param tlv\n * @return {Array}\n */\nfunction CryptogramInformationData(tlv) {\n    var desc = [];\n    var value = tlv.getValue('buffer');\n    var code;\n\n    code = value[0] & 0xc0;\n    if (code == 0x80) {\n        desc.push('10XX XXXX ARQC (Authorization Request Cryptogram): Online authorisation requested');\n    } else if (code == 0x40) {\n        desc.push('01XX XXXX TC (Transaction Certificate): Transaction approved');\n    } else if (code == 0x00) {\n        desc.push('00XX XXXX AAC (Application Authentication Cryptogram): Transaction declined');\n    }\n\n    return desc;\n}\n\n\n/**\n * IAD (Issuer Application Data)\n * tag: 9F10\n *\n * @param tlv\n * @return {Array}\n */\nfunction IssuerApplicationData(tlv) {\n    var buf = tlv.getValue('buffer');\n\n    var format = buf[0];\n\n    switch(format) {\n        case 0x0F:\n            return [' Issuer Application Data for a Common Core DefinitionsCompliant Application'];\n        case 0x06:\n        case 0x1F:\n            return IssuerApplicationDataVisa(tlv);\n        default:\n            return IssuerApplicationDataMaster(tlv);\n    }\n}\n\n\n/**\n * IAD (Issuer Application Data) for master\n * tag: 9F10\n * length: 18, 20, 26 or 28\n *\n * @param tlv\n * @return {Array}\n */\nfunction IssuerApplicationDataMaster(tlv) {\n    var desc = [];\n    var buf = tlv.getValue('buffer');\n\n    var len = buf.length;\n    var offset = 0;\n\n    desc.push('Key Derivation index: ' + u1(buf, offset)); offset += 1;\n    desc.push('Cryptogram version number: ' + u1(buf, offset)); offset += 1;\n\n    var cvr = un(buf, offset, 6); offset += 6;\n\n    desc = desc.concat(CardVerificationResultsMaster(cvr));\n    desc.push('DAC/ICC Dynamic Number: ' + u2(buf, offset)); offset += 2;\n\n    var remainder = len-offset;\n\n    //console.log(remainder);\n    switch(remainder) {\n        case 8:\n        case 16:\n            desc.push('Plaintext/Encrypted Counters: ' + un(buf, offset, remainder)); offset += remainder;\n            break;\n        case 10:\n        case 18:\n            desc.push('Plaintext/Encrypted Counters: ' + un(buf, offset, remainder)); offset += remainder;\n            desc.push('Last Online ATC'); offset += 2;\n            break;\n    }\n\n    return desc;\n}\n\n\n/**\n * IAD (Issuer Application Data) for visa\n * tag: 9F10\n *\n * @param tlv\n * @return {Array}\n */\nfunction IssuerApplicationDataVisa(tlv) {\n    var desc = [];\n    var buf = tlv.getValue('buffer');\n\n    var offset = 0;\n    desc.push('length of  Visa Discretionary Data: ' + u1(buf, offset)); offset += 1;\n    if (buf[0] === 0x06) {\n        // IAD Format 0/1/3 (Current)\n        desc.push('Derivation key index: ' + u1(buf, offset)); offset += 1;\n        desc.push('Cryptogram version number: ' + u1(buf, offset)); offset += 1;\n\n        var cvr = un(buf, offset, 4); offset += 4;\n\n        var data = CardVerificationResultsVisa(cvr);\n        desc = desc.concat(data);\n        var discretionary_data = un(buf, offset);\n        if (discretionary_data !== '') {\n            desc.push('Issuer Discretionary Data:' + discretionary_data);\n        }\n\n    } else if (buf[0] === 0x1F) {\n        // IAD Format 2 (New in VIS 1.6)\n        desc.push('Cryptogram version number: ' + u1(buf, offset)); offset += 1;\n        desc.push('Derivation key index: ' + u1(buf, offset)); offset += 1;\n        desc.push('Card Verifcation Result: ' + un(buf, offset, 5)); offset += 5;\n        desc.push('Issuer Discretionary Data:' + un(buf, offset));\n    }\n    return desc;\n}\n\n/**\n * CVR (Card Verification Results)\n * tag: '9F52'\n * length: 6\n *\n * @param buf\n * @returns {Array}\n */\nfunction CardVerificationResultsMaster(buf) {\n\n    var desc = [];\n    //var buf = tlv.getValue('buffer');\n\n    buf = toBuffer(buf);\n\n    desc.push('Card Verification Result: ' + toHexString(buf));\n\n    desc.push('byte1: ' + toHexString(buf[0]));\n    var code = (buf[0] & 0xc0);\n    //desc.push('b8-7 AC Returned In Second Generate AC');\n    if (code == 0x00) {\n        desc.push('\\tb8-7 00: AAC Returned In Second Generate AC');\n    } else if (code == 0x40) {\n        desc.push('\\tb8-7 01: TC Returned In Second Generate AC');\n    } else if (code == 0x80) {\n        desc.push('\\tb8-7 10: AC Not Requested In Second Generate AC');\n    }\n\n    code = (buf[0] & 0x30);\n    //desc.push('b6-5 AC Returned In First Generate AC');\n    if (code == 0x00) {\n        desc.push('\\tb6-5 00: AAC Returned In First Generate AC');\n    } else if (code == 0x20) {\n        desc.push('\\tb6-5 10: ARQC Returned In First Generate AC');\n    } else if (code == 0x10) {\n        desc.push('\\tb6-5 01: TC Returned In First Generate AC');\n    }\n\n    code = buf[0] & 0x0f;\n    if ((code & 0x08) == 0x08) {\n        desc.push('b4 Date Check Failed');\n    }\n\n    if ((code & 0x04) == 0x04) {\n        desc.push('b3 Offline PIN Verification Performed');\n    }\n\n    if ((code & 0x02) == 0x02) {\n        desc.push('b2 Offline Encrypted PIN Verification Performed');\n    }\n\n    if ((code & 0x01) == 0x01) {\n        desc.push('b1 Offline PIN Verification Successful');\n    }\n\n    code = buf[1];\n    desc.push('byte2: ' + toHexString(buf[1]));\n    if ((code & 0x80) == 0x80) {\n        desc.push('\\tb8 DDA Returned');\n    }\n    if ((code & 0x40) == 0x40) {\n        desc.push('\\tb7 Combined DDA/AC Generation Returned In First Generate AC');\n    }\n    if ((code & 0x20) == 0x20) {\n        desc.push('\\tb6 Combined DDA/AC Generation Returned In Second Generate AC');\n    }\n    if ((code & 0x10) == 0x10) {\n        desc.push('\\tb5 Issuer Authentication Performed');\n    }\n    if ((code & 0x08) == 0x08) {\n        desc.push('\\tb4 CIAC-Default Skipped On CAT3');\n    }\n    if ((code & 0x04) == 0x04) {\n        desc.push('\\tb3 Offline Change PIN Result');\n    }\n    //if ((code & 0x03) == 0x01) {\n    //\tdesc.push('\\tb2-1 Issuer Discretionary');\n    //}\n\n    code = buf[2];\n    desc.push('byte3: ' + toHexString(code));\n    desc.push('\\tb8-5 Low Order Nibble Of Script Counter: ' + (code >>> 4));\n    desc.push('\\tb4-1 Low Order Nibble Of PIN Try Counter: ' + (code & 0x0f));\n\n\n    code = buf[3];\n    desc.push('byte4: ' + toHexString(code));\n    if ((code & 0x80) == 0x80) {\n        desc.push('\\tb8 Last Online Transaction Not Completed');\n    }\n    if ((code & 0x40) == 0x40) {\n        desc.push('\\tb7 Unable To Go Online Indicated');\n    }\n    if ((code & 0x20) == 0x20) {\n        desc.push('\\tb6 Offline PIN Verification Not Performed');\n    }\n    if ((code & 0x10) == 0x10) {\n        desc.push('\\tb5 Offline PIN Verification Failed');\n    }\n    if ((code & 0x08) == 0x08) {\n        desc.push('\\tb4 PTL Exceeded');\n    }\n    if ((code & 0x04) == 0x04) {\n        desc.push('\\tb3 International Transaction');\n    }\n    if ((code & 0x02) == 0x02) {\n        desc.push('\\tb2 Domestic Transaction');\n    }\n    if ((code & 0x01) == 0x01) {\n        desc.push('\\tb1 Terminal Erroneously Considers Offline PIN OK');\n    }\n\n    code = buf[4];\n    desc.push('byte5: ' + toHexString(code));\n    if ((code & 0x80) == 0x80) {\n        desc.push('\\tb8 Lower Consecutive Counter 1 Limit Exceeded');\n    }\n    if ((code & 0x40) == 0x40) {\n        desc.push('\\tb7 Upper Consecutive Counter 1 Limit Exceeded');\n    }\n    if ((code & 0x20) == 0x20) {\n        desc.push('\\tb6 Lower Cumulative Accumulator 1 Limit Exceeded');\n    }\n    if ((code & 0x10) == 0x10) {\n        desc.push('\\tb5 Upper Cumulative Accumulator 1 Limit Exceeded');\n    }\n    if ((code & 0x08) == 0x08) {\n        desc.push('\\tb4 Go Online On Next Transaction Was Set');\n    }\n    if ((code & 0x04) == 0x04) {\n        desc.push('\\tb3 Issuer Authentication Failed');\n    }\n    if ((code & 0x02) == 0x02) {\n        desc.push('\\tb2 Script Received');\n    }\n    if ((code & 0x01) == 0x01) {\n        desc.push('\\tb1 Script Failed');\n    }\n\n    code = buf[5];\n    desc.push('byte6: ' + toHexString(code));\n    if ((code & 0x80) == 0x80) {\n        desc.push('\\tb8 Lower Consecutive Counter 2 Limit Exceeded');\n    }\n    if ((code & 0x40) == 0x40) {\n        desc.push('\\tb7 Upper Consecutive Counter 2 Limit Exceeded');\n    }\n    if ((code & 0x20) == 0x20) {\n        desc.push('\\tb6 Lower Cumulative Accumulator 2 Limit Exceeded');\n    }\n    if ((code & 0x10) == 0x10) {\n        desc.push('\\tb5 Upper Cumulative Accumulator 2 Limit Exceeded');\n    }\n    if ((code & 0x08) == 0x08) {\n        desc.push('\\tb4 MTA Limit Exceeded');\n    }\n    if ((code & 0x04) == 0x04) {\n        desc.push('\\tb3 Number Of Days Offline Limit Exceeded');\n    }\n    if ((code & 0x02) == 0x02) {\n        desc.push('\\tb2 Match Found In Additional Check Table');\n    }\n    if ((code & 0x01) == 0x01) {\n        desc.push('\\tb1 No Match Found In Additional Check Table');\n    }\n    return desc;\n}\n\n/**\n * CVR (Card Verification Results) for VISA\n *\n * tag: '9F52'\n * length: 4 or 5\n * \n * @param {Buffer} buf \n */\nfunction CardVerificationResultsVisa(buf) {\n    buf = toBuffer(buf);\n    var desc = [];\n    desc.push('Card Verification Result: ' + toHexString(buf));\n\n    //CVR for IAD Format 0/1/3\n    if (buf[0] === 0x03) {\n        desc.push('byte 1: CVR length: ' + toHexString(buf[0]));\n    } else {\n        desc.push('byte 1: ' + toHexString(buf[0]));\n    }\n    var oneByte = buf[1] & 0x30;\n    desc.push('byte2: ' + toHexString(buf[1]));\n    if (oneByte == 0x00) {\n        desc.push('\\tb8-7 00: AAC Returned In Second Generate AC');\n    } else if (oneByte == 0x40) {\n        desc.push('\\tb8-7 01: TC Returned In Second Generate AC');\n    } else if (oneByte == 0x80) {\n        desc.push('\\tb8-7 10: AC Not Requested In Second Generate AC');\n    }\n    oneByte = (buf[1] & 0x30);\n    if (oneByte == 0x00) {\n        desc.push('\\tb6-5 00: AAC Returned In First Generate AC');\n    } else if (oneByte == 0x20) {\n        desc.push('\\tb6-5 10: ARQC Returned In First Generate AC');\n    } else if (oneByte == 0x10) {\n        desc.push('\\tb6-5 01: TC Returned In First Generate AC');\n    }\n    oneByte = buf[1] & 0x0f;\n    if (bitOn(oneByte, 0x08)) desc.push('\\tb4 Issuer Authentication performed and failed');\n    if (bitOn(oneByte, 0x04)) desc.push('\\tb3 Offline PIN verification performed');\n    if (bitOn(oneByte, 0x02)) desc.push('\\tb2 Offline PIN verification failed');\n    if (bitOn(oneByte, 0x01)) desc.push('\\tb1 Unable to go online');\n\n    oneByte = buf[2];\n    desc.push('byte3: ' + toHexString(buf[2]));\n    if (bitOn(oneByte, 0x80)) desc.push('\\tb8 Last online transaction not completed');\n    if (bitOn(oneByte, 0x40)) desc.push('\\tb7 PIN Try Limit exceeded');\n    if (bitOn(oneByte, 0x20)) desc.push('\\tb6 Exceeded velocity checking counters');\n    if (bitOn(oneByte, 0x10)) desc.push('\\tb5 New card');\n    if (bitOn(oneByte, 0x08)) desc.push('\\tb4 Issuer Authentication failure on last online transaction');\n    if (bitOn(oneByte, 0x04)) desc.push('\\tb3 Issuer Authentication not performed after online authorization');\n    if (bitOn(oneByte, 0x02)) desc.push('\\tb2 Application blocked by card because PIN Try Limit exceeded');\n    if (bitOn(oneByte, 0x01)) desc.push('\\tb1 Offline static data authentication failed on last transaction and transaction declined offline');\n\n    oneByte = buf[3];\n    desc.push('byte4: ' + toHexString(buf[3]));\n    desc.push('\\tb8-5 Number of Issuer Script commands: ' + (buf[3]>>4));\n    if (bitOn(oneByte, 0x08)) desc.push('\\tb4 Issuer Script processing failed');\n    if (bitOn(oneByte, 0x04)) desc.push('\\tb3 Offline dynamic data authentication failed on last transaction and transaction declined offline');\n    if (bitOn(oneByte, 0x02)) desc.push('\\tb2 Offline dynamic data authentication performed');\n    if (bitOn(oneByte, 0x01)) desc.push('\\tb1 PIN verification command not received for a PINExpecting card');\n\n    if (buf[0] !== 0x03 ) {\n        //CVR for IAD Format 2\n        oneByte = buf[4];\n        desc.push('byte3: ' + toHexString(buf[4]));\n        if (bitOn(oneByte, 0x02)) desc.push('\\tb2 CDCVM Successfully Performed');\n        if (bitOn(oneByte, 0x01)) desc.push('\\tb1 Secure Messaging uses EMV Session keybased derivation');\n    }\n    return desc;\n}\n\n/**\n * Terminal Type\n * tag: '9F35'\n * length: 1\n *\n * https://www.emvco.com/faq.aspx?id=40#36\n * @param tlv\n * @returns {Array}\n */\nfunction TerminalType(tlv) {\n    var terminalType = require('./json/TerminalType.json');\n    var key = tlv.getValue();\n    var obj = terminalType[key];\n\n    var desc = [];\n    if (obj !== undefined) {\n        var str;\n        str =  'environment: ' + obj['environment'] + ' ';\n        str += 'operator: ' + obj['operator'] + ' ';\n        str += 'transaction type: ' + obj['type'];\n        desc.push(str);\n    } else {\n        desc.push('unknown terminal type');\n    }\n\n    return desc;\n}\n\n\nmodule.exports = {\n    CryptogramInformationData: CryptogramInformationData,\n    IssuerApplicationData: IssuerApplicationData,\n    TerminalType: TerminalType\n};", "/**\n * Created by coolbong on 2017-02-27.\n */\n\nvar bitOn = require('../util').bitOn;\nvar toHexString = require('../util').toHexString;\n\n/**\n * CIAC (Card Issuer Action Code)\n * tag: 'C3', 'C4', 'C5', 'CD', 'CE', 'CF'\n *\n * @param tlv\n * @return {Array}\n */\nfunction CardIssuerActionCode4Master(tlv) {\n    var desc = [];\n\n    var buf = tlv.getValue('buffer');\n    var oneByte;\n\n    oneByte = buf[0];\n    desc.push('Byte 1: ' + toHexString(oneByte));\n    if (bitOn(oneByte, 0x80)) desc.push('\\tb8 Last Online Transaction Not Completed');\n    if (bitOn(oneByte, 0x40)) desc.push('\\tb7 Unable To Go Online Indicated');\n    if (bitOn(oneByte, 0x20)) desc.push('\\tb6 Offline PIN Verification Not Performed');\n    if (bitOn(oneByte, 0x10)) desc.push('\\tb5 Offline PIN Verification Failed');\n    if (bitOn(oneByte, 0x08)) desc.push('\\tb4 PTL Exceeded');\n    if (bitOn(oneByte, 0x04)) desc.push('\\tb3 International Transaction');\n    if (bitOn(oneByte, 0x02)) desc.push('\\tb2 Domestic Transaction');\n    if (bitOn(oneByte, 0x01)) desc.push('\\tb1 Terminal Erroneously Considers Offline PIN OK');\n\n    oneByte = buf[1];\n    desc.push('Byte 2: ' + toHexString(oneByte));\n    if (bitOn(oneByte, 0x80)) desc.push('\\tb8 Lower Consecutive Counter 1 Limit Exceeded');\n    if (bitOn(oneByte, 0x40)) desc.push('\\tb7 Upper Consecutive Counter 1 Limit Exceeded');\n    if (bitOn(oneByte, 0x20)) desc.push('\\tb6 Lower Cumulative Accumulator 1 Limit Exceeded');\n    if (bitOn(oneByte, 0x10)) desc.push('\\tb5 Upper Cumulative Accumulator 1 Limit Exceeded');\n    if (bitOn(oneByte, 0x08)) desc.push('\\tb4 Go Online On Next Transaction Was Set');\n    if (bitOn(oneByte, 0x04)) desc.push('\\tb3 Issuer Authentication Failed');\n    if (bitOn(oneByte, 0x02)) desc.push('\\tb2 Script Received');\n    if (bitOn(oneByte, 0x01)) desc.push('\\tb1 Script Failed');\n\n    oneByte = buf[2];\n    desc.push('Byte 3: ' + toHexString(oneByte));\n    if (bitOn(oneByte, 0x80)) desc.push('\\tb8 Lower Consecutive Counter 2 Limit Exceeded');\n    if (bitOn(oneByte, 0x40)) desc.push('\\tb7 Upper Consecutive Counter 2 Limit Exceeded');\n    if (bitOn(oneByte, 0x20)) desc.push('\\tb6 Lower Cumulative Accumulator 2 Limit Exceeded');\n    if (bitOn(oneByte, 0x10)) desc.push('\\tb5 Upper Cumulative Accumulator 2 Limit Exceeded');\n    if (bitOn(oneByte, 0x08)) desc.push('\\tb4 MTA Limit Exceeded');\n    if (bitOn(oneByte, 0x04)) desc.push('\\tb3 Number Of Days Offline Limit Exceeded');\n    if (bitOn(oneByte, 0x02)) desc.push('\\tb2 Match Found In Additional Check Table');\n    if (bitOn(oneByte, 0x01)) desc.push('\\tb1 No Match Found In Additional Check Table');\n    return desc;\n}\n\n/**\n * CIAC (Issuer Action Code) for CPA\n * tag: 'C3', 'C4', 'C5', 'CD', 'CE', 'CF'\n *\n * @param tlv\n * @return {Array}\n */\nfunction IssuerActionCode(tlv) {\n    var desc = [];\n\n    var buf = tlv.getValue('buffer');\n    var oneByte;\n\n\n    oneByte = buf[0];\n    desc.push('Byte 1: ' + toHexString(oneByte));\n    if (bitOn(oneByte, 0x80)) desc.push('\\tb8 Last Online Transaction Not Completed');\n    if (bitOn(oneByte, 0x40)) desc.push('\\tb7 Go Online On Next Transaction Was Set');\n    if (bitOn(oneByte, 0x20)) desc.push('\\tb6 Issuer Script Processing Failed');\n    if (bitOn(oneByte, 0x10)) desc.push('\\tb5 Issuer Authentication Failed');\n    if (bitOn(oneByte, 0x08)) desc.push('\\tb4 Issuer Authentication Data Not Received in Previous Online Transaction');\n    if (bitOn(oneByte, 0x04)) desc.push('\\tb3 PIN Try Limit Exceeded');\n    if (bitOn(oneByte, 0x02)) desc.push('\\tb2 Offline PIN Verification Not Performed');\n    if (bitOn(oneByte, 0x01)) desc.push('\\tb1 Offline PIN Verification Failed');\n\n    oneByte = buf[1];\n    desc.push('Byte 2: ' + toHexString(oneByte));\n    if (bitOn(oneByte, 0x80)) desc.push('\\tb8 Unable To Go Online');\n    if (bitOn(oneByte, 0x40)) desc.push('\\tb7 Terminal Erroneously Considers Offline PIN OK');\n    if (bitOn(oneByte, 0x20)) desc.push('\\tb6 Script Received');\n    if (bitOn(oneByte, 0x10)) desc.push('\\tb5 Offline Data Authentication Failed on Previous Transaction');\n    if (bitOn(oneByte, 0x08)) desc.push('\\tb4 Match Found In Additional Check Table 1');\n    if (bitOn(oneByte, 0x04)) desc.push('\\tb3 No Match Found In Additional Check Table 1');\n    if (bitOn(oneByte, 0x02)) desc.push('\\tb2 Match Found In Additional Check Table 2');\n    if (bitOn(oneByte, 0x01)) desc.push('\\tb1 No Match Found In Additional Check Table 2');\n\n    oneByte = buf[2];\n    desc.push('Byte 3: ' + toHexString(oneByte));\n    if (bitOn(oneByte, 0x80)) desc.push('\\tb8 Accumulator 1 Lower Limit Exceeded');\n    if (bitOn(oneByte, 0x40)) desc.push('\\tb7 Accumulator 2 Lower Limit Exceeded');\n    if (bitOn(oneByte, 0x20)) desc.push('\\tb6 Counter 1 Lower Limit Exceeded');\n    if (bitOn(oneByte, 0x10)) desc.push('\\tb5 Counter 2 Lower Limit Exceeded');\n    if (bitOn(oneByte, 0x08)) desc.push('\\tb4 Counter 3 Lower Limit Exceeded');\n    if (bitOn(oneByte, 0x04)) desc.push('\\tb3 Additional Accumulator Lower Limit Exceeded');\n    if (bitOn(oneByte, 0x02)) desc.push('\\tb2 Additional Counter Lower Limit Exceeded');\n    if (bitOn(oneByte, 0x01)) desc.push('\\tb1 Number of Days Offline Limit Exceeded');\n\n    oneByte = buf[3];\n    desc.push('Byte 4: ' + toHexString(oneByte));\n    if (bitOn(oneByte, 0x80)) desc.push('\\tb8 Accumulator 1 Upper Limit Exceeded');\n    if (bitOn(oneByte, 0x40)) desc.push('\\tb7 Accumulator 2 Upper Limit Exceeded');\n    if (bitOn(oneByte, 0x20)) desc.push('\\tb6 Counter 1 Upper Limit Exceeded');\n    if (bitOn(oneByte, 0x10)) desc.push('\\tb5 Counter 2 Upper Limit Exceeded');\n    if (bitOn(oneByte, 0x08)) desc.push('\\tb4 Counter 3 Upper Limit Exceeded');\n    if (bitOn(oneByte, 0x04)) desc.push('\\tb3 Additional Accumulator Upper Limit Exceeded');\n    if (bitOn(oneByte, 0x02)) desc.push('\\tb2 Additional Counter Upper Limit Exceeded');\n    if (bitOn(oneByte, 0x01)) desc.push('\\tb1 MTA exceeded');\n\n    oneByte = buf[4];\n    desc.push('Byte 5: ' + toHexString(oneByte));\n    if (bitOn(oneByte, 0x80)) desc.push('\\tb8 Cyclic Accumulator 1 Limit Exceeded');\n    if (bitOn(oneByte, 0x40)) desc.push('\\tb7 Cyclic Accumulator 2 Limit Exceeded');\n    if (bitOn(oneByte, 0x20)) desc.push('\\tb6 Additional Cyclic Accumulator Limit Exceeded');\n    if (bitOn(oneByte, 0x10)) desc.push('\\tb5 Check Failed');\n    if (bitOn(oneByte, 0x08)) desc.push('\\tb4 RFU');\n    if (bitOn(oneByte, 0x04)) desc.push('\\tb3 RFU');\n    if (bitOn(oneByte, 0x02)) desc.push('\\tb2 RFU');\n    if (bitOn(oneByte, 0x01)) desc.push('\\tb1 RFU');\n\n    oneByte = buf[5];\n    desc.push('Byte 6: ' + toHexString(oneByte));\n    if (bitOn(oneByte, 0x80)) desc.push('\\tb8 RFU for Issuer');\n    if (bitOn(oneByte, 0x40)) desc.push('\\tb7 RFU for Issuer');\n    if (bitOn(oneByte, 0x20)) desc.push('\\tb6 RFU for Issuer');\n    if (bitOn(oneByte, 0x10)) desc.push('\\tb5 RFU for Issuer');\n    if (bitOn(oneByte, 0x08)) desc.push('\\tb4 RFU for Issuer');\n    if (bitOn(oneByte, 0x04)) desc.push('\\tb3 RFU for Issuer');\n    if (bitOn(oneByte, 0x02)) desc.push('\\tb2 RFU for Issuer');\n    if (bitOn(oneByte, 0x01)) desc.push('\\tb1 RFU for Issuer');\n\n    return desc;\n}\n\n// master application\n/**\n * Application Control\n * tag:\n *   'D5'(Contact), 'D7' (Contactless)\n *\n * Description: The Application Control activates or de-activates functions in the application\n * @param tlv\n * @returns {Array}\n */\nfunction ApplicationControl(tlv) {\n    var desc = [];\n    var buf = tlv.getValue('buffer');\n    var oneByte;\n\n    oneByte = buf[0];\n    desc.push('byte1: ' + toHexString(oneByte));\n    // Byte 1     b8 Accept Online Transactions Without ARPC\n    // Byte 1     b7 Skip CIAC-Default On CAT3\n    // Byte 1     b6 RFU\n    // Byte 1     b5     Key For Offline Encrypted PIN Verification 0: DDA Key\n    // Byte 1     b5     Key For Offline Encrypted PIN Verification 1: Dedicated Key\n    // Byte 1     b4     Offline Encrypted PIN Verification\n    // Byte 1     b3     Offline Plaintext PIN Verification\n    // Byte 1     b2     Session Key Derivation 0: MasterCard Proprietary SKD\n    // Byte 1     b2     Session Key Derivation 1: EMV CSK\n    // Byte 1     b1     Encrypt Offline Counters\n    if (bitOn(oneByte, 0x80)) desc.push('\\tb8 Accept Online Transactions Without ARPC');\n    if (bitOn(oneByte, 0x40)) desc.push('\\tb7 Skip CIAC-Default On CAT3');\n    if (bitOn(oneByte, 0x20)) desc.push('\\tb6 RFU');\n\n    if (bitOn(oneByte, 0x10)) {\n        desc.push('\\tb5 Key For Offline Encrypted PIN Verification 1: Dedicated Key');\n    } else {\n        desc.push('\\tb5 Key For Offline Encrypted PIN Verification 0: DDA Key');\n    }\n\n    if (bitOn(oneByte, 0x08)) {\n        desc.push('\\tb4 Offline Encrypted PIN Verification');\n    } else {\n        desc.push('\\tb4 Offline Encrypted PIN verification is not supported');\n    }\n\n    if (bitOn(oneByte, 0x04)) {\n        desc.push('\\tb3 Offline Plaintext PIN Verification');\n    } else {\n        desc.push('\\tb3 Offline Plaintext PIN verification is not supported');\n    }\n\n    if (bitOn(oneByte, 0x02)) {\n        desc.push('\\tb2 Session Key Derivation 1: EMV CSK');\n    } else {\n        desc.push('\\tb2 Session Key Derivation 0: MasterCard Proprietary SKD');\n    }\n    if (bitOn(oneByte, 0x01)) desc.push('\\tb1 Encrypt Offline Counters');\n\n\n    oneByte = buf[1];\n    desc.push('byte2: ' + toHexString(oneByte));\n    // Byte 2     b3     Additional Check Table\n    // Byte 2     b2     Allow Retrieval Of Balance\n    // Byte 2     b1     Include Counters In AC\n    if (bitOn(oneByte, 0x04)) desc.push('\\tb3 Additional Check Table');\n    if (bitOn(oneByte, 0x02)) desc.push('\\tb2 Allow Retrieval Of Balance');\n    if (bitOn(oneByte, 0x01)) desc.push('\\tb1 Include Counters In AC');\n\n    oneByte = buf[2];\n    desc.push('byte3: ' + toHexString(oneByte));\n    // Byte 3     b87     Compute Cryptographic Checksum 00: RFU\n    // Byte 3     b87     Compute Cryptographic Checksum 01: Compute Cryptographic Checksum Supported\n    // Byte 3     b87     Compute Cryptographic Checksum 10: Compute Cryptographic Checksum Not Supported\n    // Byte 3     b87     Compute Cryptographic Checksum 11: RFU\n    // Byte 3     b6     Decline If CDA Not Requested And RRP Performed\n    // Byte 3     b5     Go Online If RRP Not Performed\n    // Byte 3     b4     Decline If Unable To Go Online And RRP Not Performed\n    // Byte 3     b3     Use M/Chip 4 CDOL1\n    // Byte 3     b2     Enable Alternate Interface After TC Generated\n    // Byte 3     b1     Enable Alternate Interface After Successful Verify\n\n    if ((oneByte & 0xc0) === 0x40) {\n        desc.push('\\tCompute Cryptographic Checksum 01: Compute Cryptographic Checksum Supported');\n    } else if ((oneByte & 0xc0) === 0x80) {\n        desc.push('\\tCompute Cryptographic Checksum 10: Compute Cryptographic Checksum Not Supported');\n    } else {\n        desc.push('\\tCompute Cryptographic Checksum 00 or 11: RFU');\n    }\n\n    if (bitOn(oneByte, 0x20)) desc.push('\\tb6 Decline If CDA Not Requested And RRP Performed');\n    if (bitOn(oneByte, 0x10)) desc.push('\\tb5 Go Online If RRP Not Performed');\n    if (bitOn(oneByte, 0x08)) desc.push('\\tb4 Decline If Unable To Go Online And RRP Not Performed');\n    if (bitOn(oneByte, 0x04)) desc.push('\\tb3 Use M/Chip 4 CDOL1');\n    if (bitOn(oneByte, 0x02)) desc.push('\\tb2 Enable Alternate Interface After TC Generated');\n    if (bitOn(oneByte, 0x01)) desc.push('\\tb1 Enable Alternate Interface After Successful Verify');\n\n\n    oneByte = buf[3];\n    desc.push('byte4: ' + toHexString(oneByte));\n    // Byte 4     b8     Include Transaction In CRM If ARQC Is Requested\n    // Byte 4     b7     Use CIAC-online To Decide On ARQC Request\n    // Byte 4     b6     Generate Only TC Or AAC On TC Request\n    // Byte 4     b5     MTA Check\n    // Byte 4     b4     Maximum Number Of Days Offline Check\n    // Byte 4     b3     Include RRP Data in Counters\n    // Byte 4     b2     Plaintext Offline Change PIN\n    // Byte 4     b1     Encrypted Offline Change PIN\n    if (bitOn(oneByte, 0x80)) desc.push('\\tb8 Include Transaction In CRM If ARQC Is Requested');\n    if (bitOn(oneByte, 0x40)) desc.push('\\tb7 Use CIAC-online To Decide On ARQC Request');\n    if (bitOn(oneByte, 0x20)) desc.push('\\tb6 Generate Only TC Or AAC On TC Request');\n    if (bitOn(oneByte, 0x10)) desc.push('\\tb5 MTA Check');\n    if (bitOn(oneByte, 0x08)) desc.push('\\tb4 Maximum Number Of Days Offline Check');\n    if (bitOn(oneByte, 0x04)) desc.push('\\tb3 Include RRP Data in Counters');\n    if (bitOn(oneByte, 0x02)) desc.push('\\tb2 Plaintext Offline Change PIN');\n    if (bitOn(oneByte, 0x01)) desc.push('\\tb1 Encrypted Offline Change PIN');\n\n    oneByte = buf[4];\n    desc.push('byte5: ' + toHexString(oneByte));\n    // Byte 5     b8     AAC Logging\n    // Byte 5     b7     TC Logging\n    // Byte 5     b6     ARQC Pre-logging\n    // Byte 5     b5     Include Last Online ATC in IAD\n    // Byte 5     b432   Issuer Host Backwards Compatibility 000: No Host Backwards Compatibility\n    // Byte 5     b432   Issuer Host Backwards Compatibility 001: V2.1/V2.2 Host Backwards Compatibility\n    // Byte 5     b432   Issuer Host Backwards Compatibility 010: V2.05 Host Backwards Compatibility\n    // Byte 5     b432   Issuer Host Backwards Compatibility 011: V1.1/V1.3 Host Backwards Compatibility\n    // Byte 5     b432   Issuer Host Backwards Compatibility 1xx: RFU\n    // Byte 5     b1     Partial Authorization\n\n    if (bitOn(oneByte, 0x80)) desc.push('\\tb8 AAC Logging');\n    if (bitOn(oneByte, 0x40)) desc.push('\\tb7 TC Logging');\n    if (bitOn(oneByte, 0x20)) desc.push('\\tb6 ARQC Pre-logging');\n    if (bitOn(oneByte, 0x10)) desc.push('\\tb5 Include Last Online ATC in IAD');\n\n\n    if ((oneByte & 0x0E) === 0x00) {\n        desc.push('\\tb432 Issuer Host Backwards Compatibility 000: No Host Backwards Compatibility');\n    } else if ((oneByte & 0x0E) === 0x02) {\n        desc.push('\\tb432 Issuer Host Backwards Compatibility 001: V2.1/V2.2 Host Backwards Compatibility');\n    } else if ((oneByte & 0x0E) === 0x04) {\n        desc.push('\\tb432 Issuer Host Backwards Compatibility 010: V2.05 Host Backwards Compatibility');\n    } else if ((oneByte & 0x0E) === 0x06) {\n        desc.push('\\tb432 Issuer Host Backwards Compatibility 011: V1.1/V1.3 Host Backwards Compatibility');\n    }\n\n    if (bitOn(oneByte, 0x01)) desc.push('\\tb1 Partial Authorization');\n\n    oneByte = buf[5];\n    desc.push('byte6: ' + toHexString(oneByte));\n    // Byte 6     b8     Enable Alternate Interface After First Gen AC\n    // Byte 6     b7     Save Accumulators And Counters on ARQC Response\n    // Byte 6     b6     AC for MAS4C 0: AAC\n    // Byte 6     b6     AC for MAS4C 1: ARQC\n    // Byte 6     b5     Key for MAS4C Processing Flow 0: AC Master Key\n    // Byte 6     b5     Key for MAS4C Processing Flow 1: AC Master Key (MAS4C)\n    // Byte 6     b4     Torn Transaction Recovery\n    // Byte 6     b3     MAS4C Processing Flow\n    // Byte 6     b2     Reset Script Counter With Online Response\n    // Byte 6     b1     Allow Retrieval Of Transaction Log Records\n    if (bitOn(oneByte, 0x80)) desc.push('\\tb8 Enable Alternate Interface After First Gen AC');\n    if (bitOn(oneByte, 0x40)) desc.push('\\tb7 Save Accumulators And Counters on ARQC Response');\n    if (bitOn(oneByte, 0x20)) {\n        desc.push('\\tb6 AC for MAS4C 0: AAC');\n    } else {\n        desc.push('\\tb6 AC for MAS4C 1: ARQC');\n    }\n    if (bitOn(oneByte, 0x01)) {\n        desc.push('\\tb5 Key for MAS4C Processing Flow 1: AC Master Key (MAS4C)');\n    } else {\n        desc.push('\\tb5 Key for MAS4C Processing Flow 0: AC Master Key');\n    }\n    if (bitOn(oneByte, 0x08)) desc.push('\\tb4 Torn Transaction Recovery');\n    if (bitOn(oneByte, 0x04)) desc.push('\\tb3 MAS4C Processing Flow');\n    if (bitOn(oneByte, 0x02)) desc.push('\\tb2 Reset Script Counter With Online Response');\n    if (bitOn(oneByte, 0x01)) desc.push('\\tb1 Allow Retrieval Of Transaction Log Records');\n\n    return desc;\n}\n\nfunction ApplicationControl4Cpa(tlv) {\n    var desc = [];\n    var buf = tlv.getValue('buffer');\n    var oneByte;\n\n    oneByte = buf[0];\n    desc.push('byte1: ' + toHexString(oneByte));\n\n    if (bitOn(oneByte, 0x80)) desc.push('\\tB1b8 1 Issuer Authentication Required to be performed');\n    if (bitOn(oneByte, 0x40)) desc.push('\\tB1b7 1 Issuer Authentication Required to Pass when Performed');\n    if (bitOn(oneByte, 0x20)) desc.push('\\tB1b6 1 Issuer Authentication Requirements apply to Resetting of Non-Velocity-Checking Indicators and Counters)');\n    if (bitOn(oneByte, 0x10)) desc.push('\\tB1b5 1 Issuer Authentication Requirements apply to Resetting of Velocity-Checking Counters)');\n    if (bitOn(oneByte, 0x08)) { \n        desc.push('\\tB1b4 1 [Enciphered PIN] Use ICC PIN Encipherment Public/Private key pair');\n    } else {\n        desc.push('\\tB1b4 0 [Enciphered PIN] Use ICC Public/Private key pair');\n    }\n    if (bitOn(oneByte, 0x04)) desc.push('\\tB1b3 1 Offline Enciphered PIN Verification Supported');\n    if (bitOn(oneByte, 0x02)) desc.push('\\tB1b2 1 Offline Plaintext PIN Verification Supported');\n    if (bitOn(oneByte, 0x01)) desc.push('\\tB1b1 1 Allow Retrieval of Values and Limits of Accumulators and Counters');\n    \n    oneByte = buf[1];\n    desc.push('byte2: ' + toHexString(oneByte));\n    if (bitOn(oneByte, 0x80)) { \n        desc.push('\\tB2b8  1  Use Default Update Counters if CSU is Generated by Issuer Proxy');\n    } else {\n        desc.push('\\tB2b8  0  Use Update Counters Received in CSU if CSU is Generated by Issuer Proxy'); \n    }\n    \n    if ((oneByte & 0x60) === 0x00) {\n        desc.push('\\tB2b76 00 Do Not Update Offline Counters');\n    } else if ((oneByte & 0x60) === 0x40) {\n        desc.push('\\tB2b76 01 Set Offline Counters to Upper Offline Limits');\n    } else if ((oneByte & 0x60) === 0x20) {\n        desc.push('\\tB2b76 10 Reset Offline Counters to Zero');\n    } else {\n        desc.push('\\tB2b76 11 Add Transaction to Offline Counters');\n    }\n\n    if (bitOn(oneByte, 0x08)) { desc.push('\\tB2b4  1  Activate Profile Selection File'); }\n    if (bitOn(oneByte, 0x04)) { desc.push('\\tB2b3  1  Amounts Included in CDOL2'); }\n    if (bitOn(oneByte, 0x02)) { desc.push('\\tRFU'); }\n    if (bitOn(oneByte, 0x01)) { desc.push('\\tRFU'); }\n\n    oneByte = buf[2];\n    desc.push('byte3: ' + toHexString(oneByte));\n    if (bitOn(oneByte, 0x80)) { desc.push('\\tB3b8 1 Log Declined Transactions'); }\n    if (bitOn(oneByte, 0x40)) { desc.push('\\tB3b7 1 Log Approved Transactions'); }\n\n    if (bitOn(oneByte, 0x20)) { \n        desc.push('\\tB3b6 1 Log Offline Only'); \n    } else {\n        desc.push('\\tB3b6 0 Log Both Offline and Online');\n    }\n    if (bitOn(oneByte, 0x10)) { desc.push('\\tB3b5 1 Log the ATC'); }\n    if (bitOn(oneByte, 0x08)) { desc.push('\\tB3b4 1 Log the CID'); }\n    if (bitOn(oneByte, 0x04)) { desc.push('\\tB3b3 1 Log the CVR'); }\n    if (bitOn(oneByte, 0x02)) { desc.push('\\tB3b2 1 Log the Profile ID'); }\n    if (bitOn(oneByte, 0x01)) { desc.push('\\tB3b1 1 RFU'); }\n\n    oneByte = buf[3];\n    desc.push('byte4: ' + toHexString(oneByte));\n    if ((oneByte & 0xF0) !== 0x00) {\n        desc.push('Reserved for use by Payment Systems for optional extensions');\n    }\n\n    if ((oneByte & 0x0F) !== 0x00) {\n        desc.push('Reserved for use by Issuer');\n    }\n\n    return desc;\n}\n\nfunction LogFormat(tlv) {\n    var dol = tlv.parseDolValue();\n\n    var desc = [];\n    desc.push('LogFormat: 9F4F DOL Related Data length: ' + toHexString(dol.getDolRelatedDataLength()) + ' (' + dol.getDolRelatedDataLength() + ')');\n    var dolList = dol.getList();\n    dolList.forEach(function (tl) {\n        desc.push(tl.getTag() + ' ' + tl.getL() + ' (' + tl.getLength() + ') ' + tl.getName());\n    });\n\n    return desc;\n}\n\nmodule.exports = {\n    CardIssuerActionCode4Master: CardIssuerActionCode4Master,\n    IssuerActionCode: IssuerActionCode,\n    ApplicationControl: ApplicationControl,\n    LogFormat: LogFormat,\n    ApplicationControl4Cpa: ApplicationControl4Cpa,\n};", "var bitOn = require('../util').bitOn;\nvar getBitOn = require('../util').getBitOn;\nvar u2 = require('../util').u2;\nvar toHexString = require('../util').toHexString;\n\n\nfunction AccumulatorProfileControl(tlv) {\n    var desc = [];\n    var oneByte;\n    var buf = tlv.getValue('buffer');\n\n    oneByte = buf[0];\n    desc.push('Byte 1: ' + toHexString(oneByte));\n    if (bitOn(oneByte, 0x80))  {\n        desc.push('\\tb8 Allow Accumulation');\n    } else {\n        desc.push('\\tb8 Do Not Allow Accumulation');\n    }\n    if (bitOn(oneByte, 0x40)) desc.push('\\tb7 Reset Accumulator with online response');\n    if (bitOn(oneByte, 0x20)) desc.push('\\tb6 Send Accumulator in IAD');\n    if (bitOn(oneByte, 0x10)) {\n        desc.push('\\tb5 Send Accumulator x Balance');\n    } else {\n        desc.push('\\tb5 Send Accumulator x value');\n    }\n\n    if (bitOn(oneByte, 0x08)) desc.push('\\tb4 RFU');\n    if (bitOn(oneByte, 0x04)) desc.push('\\tb3 RFU');\n    if (bitOn(oneByte, 0x02)) desc.push('\\tb2 RFU');\n    if (bitOn(oneByte, 0x01)) desc.push('\\tb1 RFU');\n\n    oneByte = buf[1];\n    desc.push('Byte 2: ' + toHexString(oneByte));\n    // b876 RFU\n    if (bitOn(oneByte, 0x80)) desc.push('\\tb8 RFU');\n    if (bitOn(oneByte, 0x40)) desc.push('\\tb7 RFU');\n    if (bitOn(oneByte, 0x20)) desc.push('\\tb6 RFU');\n\n    if (bitOn(oneByte, 0x10)) {\n        desc.push('\\tb5 Use Limit Set 1');\n    } else {\n        desc.push('\\tb5 Use Limit Set 0');\n    }\n\n    if ((oneByte & 0x0f) === 0x0f) {\n        desc.push('\\tb4321 Currency Conversion Not Allowed');\n    } else {\n        desc.push('\\tb4321 Currency Conversion Table ID: ' + toHexString(oneByte & 0x0f));\n    }\n    \n\n    return desc;\n}\n\nfunction AccumulatorControl(tlv) {\n    var desc = [];\n\n    var oneByte;\n    var buf = tlv.getValue('buffer');\n\n    //desc.push('Template: BF32');\n    desc.push('byte 1-2: Accumulator Currency Code: ' + tlv.getValue().substring(0, 4));\n    \n    oneByte = buf[2];\n    desc.push('byte 3: Accumulator Parameters: ' + toHexString(oneByte));\n    if (bitOn(oneByte, 0x80)) desc.push('\\tb8 Include ARQC Transaction in CRM Test');\n    if (bitOn(oneByte, 0x40)) desc.push('\\tb7 Include Offline Approvals');\n\n    return desc;\n}\n\nfunction CounterProfileControl(tlv) {\n    var desc = [];\n    var oneByte;\n    var buf = tlv.getValue('buffer');\n\n    oneByte = buf[0];\n    desc.push('Template: BF36 byte1: ' + toHexString(oneByte));\n    // b876 RFU\n    if (bitOn(oneByte, 0x80)) desc.push('\\tb8 RFU');\n    if (bitOn(oneByte, 0x40)) desc.push('\\tb7 RFU');\n    if (bitOn(oneByte, 0x20)) desc.push('\\tb6 RFU');\n    if (bitOn(oneByte, 0x10)) {\n        desc.push('\\tb5 Use Limit Set 1');\n    } else {\n        desc.push('\\tb5 Use Limit Set 0');\n    }\n\n    if (bitOn(oneByte, 0x08))  {\n        desc.push('\\tb4 Allow Counting');\n    } else {\n        desc.push('\\tb4 Do Not Allow Counting');\n    }\n    if (bitOn(oneByte, 0x04)) desc.push('\\tb3 Reset Counter with online response');\n    if (bitOn(oneByte, 0x02)) desc.push('\\tb2 Send Counter in IAD');\n    if (bitOn(oneByte, 0x01)) desc.push('\\tb1 RFU');\n\n    return desc;\n}\n\nfunction CounterControl(tlv) {\n    var desc = [];\n    var oneByte;\n    var buf = tlv.getValue('buffer');\n\n    oneByte = buf[0];\n    desc.push('byte1: ' + toHexString(oneByte));\n    if (bitOn(oneByte, 0x80)) desc.push('\\tb8 Include ARQC Transaction in CRM Test');\n    if (bitOn(oneByte, 0x40)) desc.push('\\tb7 Include Offline Declines');\n    if (bitOn(oneByte, 0x20)) desc.push('\\tb6 Include Offline Approval');\n    if (bitOn(oneByte, 0x10)) {\n        desc.push('\\tb5 include always');\n    } else {\n        desc.push('\\tb5 include only if Not Accumulated');\n    }\n\n    if (bitOn(oneByte, 0x08)) {\n        desc.push('\\tb4 include only if International');\n    } else {\n        desc.push('\\tb4 include always');\n    }\n    if (bitOn(oneByte, 0x04)) desc.push('\\tb1 RFU');\n    if (bitOn(oneByte, 0x02)) desc.push('\\tb1 RFU');\n    if (bitOn(oneByte, 0x01)) desc.push('\\tb1 RFU');\n\n    return desc;\n}\n\nfunction IssuerOptionsProfileControl(tlv) {\n    var desc = [];\n    var oneByte;\n    var buf = tlv.getValue('buffer');\n\n    oneByte = buf[0];\n    desc.push('byte1: ' + toHexString(oneByte));\n    if (bitOn(oneByte, 0x80)) {\n        desc.push('\\tb8 Log Transactions');\n    } else {\n        desc.push('\\tb8 Do Not Log Transactions');\n    }\n    if (bitOn(oneByte, 0x40)) desc.push('\\tb7 Activate Additional Check Table 1 Check');\n    if (bitOn(oneByte, 0x20)) desc.push('\\tb6 Activate Additional Check Table 2 Check');\n    if (bitOn(oneByte, 0x10)) desc.push('\\tb5 Activate Maximum Number of Days Offline Check');\n\n    if (bitOn(oneByte, 0x08)) desc.push('\\tb4 Reset Maximum Number of Days offline with online response');\n    if (bitOn(oneByte, 0x04)) desc.push('\\tb3 Allow Override of CIAC-Default for Transactions at Terminal Type 26');\n    if (bitOn(oneByte, 0x02)) desc.push('\\tb2 Encipher Counters portion of IAD');\n    if (bitOn(oneByte, 0x01)) desc.push('\\tb1 RFU');\n\n    oneByte = buf[1];\n    desc.push('byte2: 1st GAC Length: ' + toHexString(oneByte) + '(' + oneByte + ')');\n    \n    oneByte = buf[2];\n    desc.push('byte3: 2nd GAC Length: ' + toHexString(oneByte) + '(' + oneByte + ')');\n    \n    oneByte = buf[3];\n    desc.push('byte4: Profile CCI: ' + toHexString(oneByte));\n    \n    oneByte = buf[4];\n    desc.push('byte5: Profile DKI: ' + toHexString(oneByte));\n    \n    oneByte = buf[5];\n    desc.push('byte6: RFU: ' + toHexString(oneByte));\n    \n    oneByte = buf[6];\n    desc.push('byte7: RFU for Issuer: ' + toHexString(oneByte));\n\n    return desc;\n}\n\nfunction MtaProfileCotnrol(tlv) {\n    var desc = [];\n    var oneByte;\n    var buf = tlv.getValue('buffer');\n\n    desc.push('byte 1-2: Currency Code for Maximum Transaction Amount: ' + tlv.getValue().substring(0, 4));\n    \n    oneByte = buf[2];\n    desc.push('byte 3: MTA parameters: ' + toHexString(oneByte));\n    \n    const limit_entry_id = (oneByte & 0xF0) >> 4;\n    desc.push('\\tb8765: Limits Entry ID: ' + limit_entry_id);\n\n    const currency_conversion_table_id = (oneByte & 0x0F);\n    if (currency_conversion_table_id === 0x0f) {\n        desc.push('\\tb4321: Currency Conversion Not Allowed');\n    } else {\n        desc.push('\\tb4321: Currency Conversion Table ID: ' + currency_conversion_table_id);\n    }\n\n    oneByte = buf[3];\n    desc.push('byte 4: RFU: ' + toHexString(oneByte));\n    \n    return desc;\n}\n\nfunction buildCiacBitOnString(num1, num2, num3, bit) {\n    return getBitOn(num1, bit) + ' ' + getBitOn(num, bit) + ' ' + getBitOn(num, bit);\n}\n\nfunction Ciacs(tlv) {\n    var desc = [];\n    var oneByte;\n    var buf = tlv.getValue('buffer');\n\n    for (var i=0; i<3; i++) {\n        var index = (6 * i);\n        if (i === 0) {\n            desc.push('CIAC - Decline');\n        } else if (i === 1){\n            desc.push('CIAC - Default');\n        } else if (i === 2) {\n            desc.push('CIAC - Online');\n        }\n\n        var index_decline = 0;\n        var index_default = 6;\n        var index_online = 12;\n\n        oneByte = buf[index];\n        dec = toHexString(buf[index_decline]);\n        def = toHexString(buf[index_default]);\n        onl = toHexString(buf[index_online]);\n        desc.push('byte 1: decline default online: ' + `${dec} ${def} ${onl}`);\n        //desc.push('byte 1: ' + toHexString(oneByte));\n        \n        tmp = getBitOn(buf[index_decline], 0x80) + ' ' + getBitOn(buf[index_default], 0x80) + ' ' + getBitOn(buf[index_online], 0x80)\n        desc.push(tmp + ' b8 Last Online Transaction Not Completed');\n        \n        tmp = getBitOn(buf[index_decline], 0x40) + ' ' + getBitOn(buf[index_default], 0x40) + ' ' + getBitOn(buf[index_online], 0x40)\n        desc.push(tmp + ' b7 Go Online On Next Transaction Was Set');\n        \n        tmp = getBitOn(buf[index_decline], 0x20) + ' ' + getBitOn(buf[index_default], 0x20) + ' ' + getBitOn(buf[index_online], 0x20)\n        desc.push(tmp + ' b6 Issuer Script Processing Failed');\n\n        tmp = getBitOn(buf[index_decline], 0x10) + ' ' + getBitOn(buf[index_default], 0x10) + ' ' + getBitOn(buf[index_online], 0x10)\n        desc.push(tmp + ' b5 Issuer Authentication Failed');\n\n        tmp = getBitOn(buf[index_decline], 0x08) + ' ' + getBitOn(buf[index_default], 0x08) + ' ' + getBitOn(buf[index_online], 0x08)\n        desc.push(tmp + ' b4 Issuer Authentication Data Not Received in Previous Online Transaction');\n        \n        tmp = getBitOn(buf[index_decline], 0x04) + ' ' + getBitOn(buf[index_default], 0x04) + ' ' + getBitOn(buf[index_online], 0x04)\n        desc.push(tmp + ' b3 PIN Try Limit Exceeded');\n        \n        tmp = getBitOn(buf[index_decline], 0x02) + ' ' + getBitOn(buf[index_default], 0x02) + ' ' + getBitOn(buf[index_online], 0x02)\n        desc.push(tmp + ' b2 Offline PIN Verification Not Performed');\n\n        tmp = getBitOn(buf[index_decline], 0x01) + ' ' + getBitOn(buf[index_default], 0x01) + ' ' + getBitOn(buf[index_online], 0x01)\n        desc.push(tmp + ' b1 Offline PIN Verification Failed');\n\n        //if (bitOn(oneByte, 0x80)) desc.push('\\tb8 Last Online Transaction Not Completed');\n        //if (bitOn(oneByte, 0x40)) desc.push('\\tb7 Go Online On Next Transaction Was Set');\n        //if (bitOn(oneByte, 0x20)) desc.push('\\tb6 Issuer Script Processing Failed');\n        //if (bitOn(oneByte, 0x10)) desc.push('\\tb5 Issuer Authentication Failed');\n        //if (bitOn(oneByte, 0x08)) desc.push('\\tb4 Issuer Authentication Data Not Received in Previous Online Transaction');\n        //if (bitOn(oneByte, 0x04)) desc.push('\\tb3 PIN Try Limit Exceeded');\n        //if (bitOn(oneByte, 0x02)) desc.push('\\tb2 Offline PIN Verification Not Performed');\n        //if (bitOn(oneByte, 0x01)) desc.push('\\tb1 Offline PIN Verification Failed');\n\n        oneByte = buf[index+1];\n        desc.push('byte 2: ' + toHexString(oneByte));\n        if (bitOn(oneByte, 0x80)) desc.push('\\tb8 Unable To Go Online');\n        if (bitOn(oneByte, 0x40)) desc.push('\\tb7 Terminal Erroneously Considers Offline PIN OK');\n        if (bitOn(oneByte, 0x20)) desc.push('\\tb6 Script Received');\n        if (bitOn(oneByte, 0x10)) desc.push('\\tb5 Offline Data Authentication Failed on Previous Transaction');\n        if (bitOn(oneByte, 0x08)) desc.push('\\tb4 Match Found In Additional Check Table 1');\n        if (bitOn(oneByte, 0x04)) desc.push('\\tb3 No Match Found In Additional Check Table 1');\n        if (bitOn(oneByte, 0x02)) desc.push('\\tb2 Match Found In Additional Check Table 2');\n        if (bitOn(oneByte, 0x01)) desc.push('\\tb1 No Match Found In Additional Check Table 2');\n\n        oneByte = buf[index+2];\n        desc.push('byte 3: ' + toHexString(oneByte));\n        if (bitOn(oneByte, 0x80)) desc.push('\\tb8 Accumulator 1 Lower Limit Exceeded');\n        if (bitOn(oneByte, 0x40)) desc.push('\\tb7 Accumulator 2 Lower Limit Exceeded');\n        if (bitOn(oneByte, 0x20)) desc.push('\\tb6 Counter 1 Lower Limit Exceeded');\n        if (bitOn(oneByte, 0x10)) desc.push('\\tb5 Counter 2 Lower Limit Exceeded');\n        if (bitOn(oneByte, 0x08)) desc.push('\\tb4 Counter 3 Lower Limit Exceeded');\n        if (bitOn(oneByte, 0x04)) desc.push('\\tb3 Additional Accumulator Lower Limit Excee');\n        if (bitOn(oneByte, 0x02)) desc.push('\\tb2 Additional Counter Lower Limit Exceeded');\n        if (bitOn(oneByte, 0x01)) desc.push('\\tb1 Number of Days Offline Limit Exceeded');\n\n        oneByte = buf[index+3];\n        desc.push('byte 4: ' + toHexString(oneByte));\n        if (bitOn(oneByte, 0x80)) desc.push('\\tb8 Accumulator 1 Upper Limit Exceeded');\n        if (bitOn(oneByte, 0x40)) desc.push('\\tb7 Accumulator 2 Upper Limit Exceeded');\n        if (bitOn(oneByte, 0x20)) desc.push('\\tb6 Counter 1 Upper Limit Exceeded');\n        if (bitOn(oneByte, 0x10)) desc.push('\\tb5 Counter 2 Upper Limit Exceeded');\n        if (bitOn(oneByte, 0x08)) desc.push('\\tb4 Counter 3 Upper Limit Exceeded');\n        if (bitOn(oneByte, 0x04)) desc.push('\\tb3 Additional Accumulator Upper Limit Exceeded');\n        if (bitOn(oneByte, 0x02)) desc.push('\\tb2 Additional Counter Upper Limit Exceeded');\n        if (bitOn(oneByte, 0x01)) desc.push('\\tb1 MTA exceeded');\n\n        oneByte = buf[index+4];\n        desc.push('byte 5: ' + toHexString(oneByte));\n        if (bitOn(oneByte, 0x80)) desc.push('\\tb8 Cyclic Accumulator 1 Limit Exceeded');\n        if (bitOn(oneByte, 0x40)) desc.push('\\tb7 Cyclic Accumulator 2 Limit Exceeded');\n        if (bitOn(oneByte, 0x20)) desc.push('\\tb6 Additional Cyclic Accumulator Limit Exceeded');\n        if (bitOn(oneByte, 0x10)) desc.push('\\tb5 Check Failed');\n        if (bitOn(oneByte, 0x08)) desc.push('\\tb4 RFU');\n        if (bitOn(oneByte, 0x04)) desc.push('\\tb3 RFU');\n        if (bitOn(oneByte, 0x02)) desc.push('\\tb2 RFU');\n        if (bitOn(oneByte, 0x01)) desc.push('\\tb1 RFU');\n\n        oneByte = buf[index+5];\n        desc.push('byte 6: ' + toHexString(oneByte));\n        if (bitOn(oneByte, 0x80)) desc.push('\\tb8 Reserved for use by issuer');\n        if (bitOn(oneByte, 0x40)) desc.push('\\tb7 Reserved for use by issuer');\n        if (bitOn(oneByte, 0x20)) desc.push('\\tb6 Reserved for use by issuer');\n        if (bitOn(oneByte, 0x10)) desc.push('\\tb5 Reserved for use by issuer');\n        if (bitOn(oneByte, 0x08)) desc.push('\\tb4 Reserved for use by issuer');\n        if (bitOn(oneByte, 0x04)) desc.push('\\tb3 Reserved for use by issuer');\n        if (bitOn(oneByte, 0x02)) desc.push('\\tb2 Reserved for use by issuer');\n        if (bitOn(oneByte, 0x01)) desc.push('\\tb1 Reserved for use by issuer');\n    }\n    \n\n    return desc;\n}\n\nmodule.exports = {\n    AccumulatorProfileControl: AccumulatorProfileControl,\n    AccumulatorControl: AccumulatorControl,\n    CounterProfileControl: CounterProfileControl,\n    CounterControl: CounterControl,\n    IssuerOptionsProfileControl: IssuerOptionsProfileControl,\n    MtaProfileCotnrol: MtaProfileCotnrol,\n    Ciacs: Ciacs,\n};", "/**\n * Created by coolbong on 2017-03-09.\n */\nvar bitOn = require('../util').bitOn;\nvar toHexString = require('../util').toHexString;\n\nfunction TerminalVerificationResult(tlv) {\n    var desc = [];\n    var oneByte;\n    var buf = tlv.getValue('buffer');\n\n    oneByte = buf[0];\n    desc.push('byte1: ' + toHexString(oneByte));\n    if (bitOn(oneByte, 0x80)) desc.push('\\tb8 Offline Data Authentication Was Not Performed');\n    if (bitOn(oneByte, 0x40)) desc.push('\\tb7 SDA Failed');\n    if (bitOn(oneByte, 0x20)) desc.push('\\tb6 ICC Data Missing');\n    if (bitOn(oneByte, 0x10)) desc.push('\\tb5 Card Appears On Terminal Exception File');\n    if (bitOn(oneByte, 0x08)) desc.push('\\tb4 DDA Failed');\n    if (bitOn(oneByte, 0x04)) desc.push('\\tb3 CDA Failed');\n\n    oneByte = buf[1];\n    desc.push('byte2: ' + toHexString(oneByte));\n    if (bitOn(oneByte, 0x80)) desc.push('\\tb8 ICC And Terminal Have Different Application Versions');\n    if (bitOn(oneByte, 0x40)) desc.push('\\tb7 Expired Application');\n    if (bitOn(oneByte, 0x20)) desc.push('\\tb6 Application Not Yet Effective');\n    if (bitOn(oneByte, 0x10)) desc.push('\\tb5 Requested Service Not Allowed For Card Product');\n    if (bitOn(oneByte, 0x08)) desc.push('\\tb4 New Card');\n\n    oneByte = buf[2];\n    desc.push('byte3: ' + toHexString(oneByte));\n    if (bitOn(oneByte, 0x80)) desc.push('\\tb8 Cardholder Verification Was Not Successful');\n    if (bitOn(oneByte, 0x40)) desc.push('\\tb7 Unrecognised CVM');\n    if (bitOn(oneByte, 0x20)) desc.push('\\tb6 PIN Try Limit Exceeded');\n    if (bitOn(oneByte, 0x10)) desc.push('\\tb5 PIN Entry Required And PIN Pad Not Present Or Not Working');\n    if (bitOn(oneByte, 0x08)) desc.push('\\tb4 PIN Entry Required, PIN Pad Present, But PIN Was Not Entered');\n    if (bitOn(oneByte, 0x04)) desc.push('\\tb3 Online PIN Entered');\n\n    oneByte = buf[3];\n    desc.push('byte4: ' + toHexString(oneByte));\n    if (bitOn(oneByte, 0x80)) desc.push('\\tb8 Transaction Exceeded Floor Limit');\n    if (bitOn(oneByte, 0x40)) desc.push('\\tb7 Lower Consecutive Offline Limit Exceeded');\n    if (bitOn(oneByte, 0x20)) desc.push('\\tb6 Upper Consecutive Offline Limit Exceeded');\n    if (bitOn(oneByte, 0x10)) desc.push('\\tb5 Transaction Selected Randomly For Online Processing');\n    if (bitOn(oneByte, 0x08)) desc.push('\\tb4 Merchant Forced Transaction Online');\n\n    oneByte = buf[4];\n    desc.push('byte5: ' + toHexString(oneByte));\n    if (bitOn(oneByte, 0x80)) desc.push('\\tb8 Default TDOL Used');\n    if (bitOn(oneByte, 0x40)) desc.push('\\tb7 Issuer Authentication Failed');\n    if (bitOn(oneByte, 0x20)) desc.push('\\tb6 Script Processing Failed Before Final Generate AC');\n    if (bitOn(oneByte, 0x10)) desc.push('\\tb5 Script Processing Failed After Final Generate AC');\n    if (bitOn(oneByte, 0x08)) desc.push('\\tb4 Relay Resistance Threshold Exceeded');\n    if (bitOn(oneByte, 0x04)) desc.push('\\tb3 Relay Resistance Time Limits Exceeded');\n\n    if ((oneByte & 0x03) === 0x00) {\n        //desc.push('b2-1 00: Relay resistance protocol not supported');\n    } else if ((oneByte & 0x03) === 0x01) {\n        desc.push('b2-1 01: RRP Not Performed');\n    } else if ((oneByte & 0x03) === 0x02) {\n        desc.push('b2-1 10: RRP Performed');\n    }\n\n    return desc;\n}\n\n\nmodule.exports = {\n    TerminalVerificationResult:TerminalVerificationResult\n};", "/**\n * Created by coolbong on 2017-02-24.\n */\n\nvar toNumber = require('./util').toNumber;\nvar toAscii = require('./util').toAscii;\n\n// SELECT\nvar Pdol = require('./decoder/Select').Pdol;\n\n\n// GET_PROCESSING_OPTION\nvar Gpo = require('./decoder/Gpo');\n\n// READ_RECORD\nvar Record = require('./decoder/Record');\n\n\n// GENERAGE_AC\nvar GAC = require('./decoder/Gac');\n\n\n// GET_DATA\nvar GetData = require('./decoder/GetData');\n\n\nvar Template = require('./decoder/Template');\n\n// Terminal\nvar Terminal = require('./decoder/Terminal');\n\n// only emv element\nvar emv = {\n    // SELECT\n    '84': {\n        name: 'Dedicated File (DF) Name',\n        decoder: isPse\n    },\n    'A5' : {\n        name: 'File Control Information (FCI) Proprietary Template',\n    },\n    '50': {\n        name: 'Application Label',\n        decoder: ascii\n    },\n    '5F2D' : {\n        name : 'Language Preference',\n        decoder: ascii\n    },\n    '9F12' : {\n        name: 'Application Preferred Name',\n        decoder: ascii\n    },\n    '9F38' : {\n        name: 'Processing Options Data Object List (PDOL)',\n        decoder: Pdol\n    },\n    // GET_PROCESSING_OPTION\n    '82' : {\n        name: 'Application Interchange Profile',\n        decoder: Gpo.ApplicationInterchangeProfile\n    },\n    '94' : {\n        name: 'Application File Locator (AFL) (contact)',\n        decoder: Gpo.ApplicationFileLocator,\n        func: Gpo.ApplicationFileLocatorFunction\n    },\n\n    // READ_RECORD\n    '56' : {\n        name: 'Track 1 Data',\n        decoder: Record.Track1Data\n    },\n    '57' : {\n        name: 'Track 2 Equivalent Data',\n        decoder: Record.Track2Data\n    },\n    '5F20' : {\n        name: 'Card holder name',\n        decoder: ascii\n    },\n    '5F25' : {\n        name : 'Application Effective Date',\n        decoder: getDateFormat\n    },\n    '5F24' : {\n        name: 'Application Expiration Date',\n        decoder: getDateFormat\n    },\n    '5F28': {\n        name : 'Issuer Country Code',\n        decoder: getCountryCode\n    },\n    '5F30': {\n        name: 'Service Code',\n        decoder: Record.ServiceCode\n    },\n    '8C' : {\n        name: 'CDOL1 (Card Risk Management Data Object List 1)',\n        decoder: Record.CDOL1\n    },\n    '8D' : {\n        name: 'CDOL2 (Card Risk Management Data Object List 2)',\n        decoder: Record.CDOL2\n    },\n    '8E' : {\n        name: 'CVM List (Cardholder Verification Method List)',\n        decoder: Record.CVMList\n    },\n    '9F07' : {\n        name: 'Application Usage Control',\n        decoder: Record.ApplicationUsageControl\n    },\n    '9F0D' : {\n        name: 'Issuer Action Code - Default',\n        decoder: Record.IssuerActionCode\n    },\n    '9F0E' : {\n        name: 'Issuer Action Code - Denial',\n        decoder: Record.IssuerActionCode\n    },\n    '9F0F' : {\n        name: 'Issuer Action Code - Online',\n        decoder: Record.IssuerActionCode\n    },\n    '9F1F' : {\n        name: 'Track 1 Discretionary Data',\n        decoder: Record.Track1DiscretionaryData\n    },\n    '9F6B' : {\n        name: 'Track 2 Data',\n        decoder: Record.Track2Data\n    },\n\n    // GENERATE AC RESP\n    '9F10' : {\n        name: 'IAD (Issuer Application Data)',\n        decoder: GAC.IssuerApplicationData\n    },\n    '9F27' : {\n        name: 'CID (Cryptogram Information Data)',\n        decoder: GAC.CryptogramInformationData\n    },\n    '9F36' : {\n        name: 'ATC (Application Transaction Count',\n        decoder: number\n    },\n\n    // GENERATE AC CMD\n    '5F2A' : {\n        name: 'Transaction Currency Code',\n        decoder: getCurrencyCode\n    },\n    '9F1A' : {\n        name: 'Terminal Country Code',\n        decoder: getCountryCode\n    },\n    '9F35' : {\n        name: 'Terminal Type',\n        decoder: GAC.TerminalType\n    },\n    '9F42' : {\n        name: 'Application Currency Code',\n        decoder: getCurrencyCode\n    },\n\n    // GET_DATA\n    '9F4F' : {\n        name: 'Log Format',\n        decoder: GetData.LogFormat\n    },\n    'C3' : {\n        name: 'Card Issuer Action Code - Decline (contact)',\n        decoder: GetData.IssuerActionCode\n    },\n    'C4' : {\n        name: 'Card Issuer Action Code \u2013 Default (contact)',\n        decoder: GetData.IssuerActionCode\n    },\n    'C5' : {\n        name: 'Card Issuer Action Code - Online (contact)',\n        decoder: GetData.IssuerActionCode\n    },\n    'CD' : {\n        name: 'Card Issuer Action Code \u2013 Default (contactless)',\n        decoder: GetData.IssuerActionCode\n    },\n    \n    'CE' : {\n        name: 'Card Issuer Action Code - Online (contactless)',\n        decoder: GetData.IssuerActionCode\n    },\n    'CF' : {\n        name: 'Card Issuer Action Code - Decline (contactless)',\n        decoder: GetData.IssuerActionCode\n    },\n    'C8' : {\n        name: 'CRM Country Code',\n        decoder: getCountryCode\n    },\n\n    'D5' : {\n        name: 'Application Control (Contact)',\n        decoder: GetData.ApplicationControl\n    },\n    'D7' : {\n        name: 'Application Control (Contactless)',\n        decoder: GetData.ApplicationControl\n    },\n\n    // TERMINAL\n    '95' : {\n        name: 'Terminal Verification Results',\n        decoder: Terminal.TerminalVerificationResult\n    },\n\n    // for CPA\n    'C1' : {\n        name: 'Application Control',\n        decoder: GetData.ApplicationControl4Cpa\n    },\n\n    // CPA template \n    'BF30' : {\n        name : 'Accumulator Value(DF0X) / Limit(DF1X)',\n    },\n    'BF31' : {\n        name : 'Accumulator Profile Control',\n        decoder: Template.AccumulatorProfileControl\n    },\n    'BF32' : {\n        name : 'Accumulator x Control',\n        decoder: Template.AccumulatorControl\n    },\n    'BF34' : {\n        name : 'Card Issuer Action Codes',\n        decoder: Template.Ciacs\n    },\n    'BF36' : {\n        name : 'Counter Profile Control',\n        decoder: Template.CounterProfileControl\n    },\n    'BF37' : {\n        name : 'Counter x Control',\n        decoder: Template.CounterControl\n    },\n\n    'BF3B' : {\n        name: 'Issuer Options Profile Control',\n        decoder : Template.IssuerOptionsProfileControl\n    },\n    //// BF3D\tDF01\tMTA Profile Control 1\t4\tFixed\t08181F00\n    'BF3D' : {\n        name: 'MTA Profile Control',\n        decoder : Template.MtaProfileCotnrol\n    },\n};\n\n\nfunction setDecoder(tlv) {\n    var tag = tlv.getTag();\n\n    if (tag[0] === 'D' && tag[1] === 'F') { // is template tag\n        var parent = tlv.parent;\n        if (parent !== undefined) {\n            tlv.name = parent.name;\n            tlv.desc = parent.desc;\n            return;\n        }\n    }\n\n    if (emv[tag] !== undefined) {\n        tlv.name = emv[tag].name;\n        tlv.desc = emv[tag].decoder;\n        if (emv[tag].func) {\t\n            // for extra function (afl getCommand)\n            emv[tag].func(tlv);\t\n        }\n    }\n\n}\n\n\nfunction ascii(tlv) {\n    return [toAscii(tlv.getValue())];\n}\n\nfunction number(tlv) {\n    return ['DEC: ' + toNumber(tlv.getValue())];\n}\n\nfunction getCountryCode(tlv) {\n    var value = tlv.getValue();\n    var countryCode = require('./decoder/json/CountryCode.json');\n    var obj = countryCode[value];\n\n    var desc = [];\n    if (obj !== undefined) {\n        desc.push('country info: name : ' + obj['country'] + ' (' + obj['A3'] + ')');\n    } else {\n        desc.push('unknown country code. plz update ISO3166.');\n    }\n    return desc;\n}\n\nfunction getDateFormat(tlv) {\n    var desc = [];\n    var value = tlv.getValue();\n    var year = '20' + value.slice(0, 2);\n    var month = value.slice(2, 4);\n    var date = value.slice(4);\n    desc.push('YYYY-MM-DD: '+ year + '-' + month + '-' + date);\n    return desc;\n}\n\nfunction isPse(tlv) {\n    var value = tlv.getValue();\n\n    if ('315041592E5359532E4444463031' === value || '325041592E5359532E4444463031' === value) {\n        return ascii(tlv)\n    }\n\n    // FIXME AID\n\n    return [];\n}\n\n/**\n *\n * tag: '5F2A' Transaction Currency Code\n * tag: '9F42' Application Currency Code\n *\n * data from\n * https://www.currency-iso.org/en/home/tables/table-a1.html\n * https://www.currency-iso.org/dam/downloads/lists/list_one.xml\n * @param tlv\n */\nfunction getCurrencyCode(tlv) {\n    var value = tlv.getValue();\n    var currencyCode = require('./decoder/json/CurrencyCode.json');\n\n    var list = currencyCode['list'];\n\n    var desc = [];\n    if (list !== undefined) {\n        var array = [];\n        list.forEach( function (item) {\n            if (item['number'] === value) {\n                array.push(item);\n            }\n        });\n\n        var obj = array[0];\n        if (obj)\n            desc.push('Code: [' + obj['code'] + '] : ' + obj['currency']);\n        else\n            desc.push('unknown country code ' + value + '. plz update ISO3166.');\n    } else {\n        desc.push('no country codes? plz load.');\n    }\n    return desc;\n}\n\nmodule.exports = {\n    setDecoder: setDecoder\n};\n\n//FIXME visa, master, amex tag", "/**\n * Created by coolbong on 2016-03-23.\n *\n * reference \n * - http://www.openscdp.org/scsh3/tlv.html\n * - ISO7816-4 5.2 Data object\n * - EMV Card Personalization Specification July 2007 Version 1.1\n */\n// TODO add input type Uint8Array\n// TODO new Buffer to Buffer.from\n\n\n// constant\nvar Dictionary = require('./Dictionary');\nconst Buffer = require('buffer/').Buffer;  // note: the trailing slash is important!\n\nvar setDecoder = require('./Decoder').setDecoder;\n\nvar ut = require('./util');\nvar toHexString = ut.toHexString;\nvar toBuffer = ut.toBuffer;\nvar toNumber = ut.toNumber;\nvar toAscii = ut.toAscii;\nvar newBuffer = ut.newBuffer;\nvar un = ut.un;\n\nvar strip = ut.strip;\n\n\n\nTLV.EMV = 0x00;\nTLV.DGI = 0x01;\n\n\nTLV.DOL = DOL;\nTLV.TL = TL;\n\n\n\n\n/**\n * Create a TLV object.\n *\n * @param {string | number} tag\n * @param {string} value\n * @param {number} [encoding] TLV.EMV / TLV.DGI\n * @returns {TLV}\n * @constructor\n */\nfunction TLV (tag, value, encoding) {\n\n    if (!(this instanceof TLV)) {\n        return new TLV(tag, value, encoding);\n    }\n    this.encodingMode = encoding || TLV.EMV;             //number\n\n    // parameter check\n    if ((this.encodingMode !== TLV.EMV) && (this.encodingMode !== TLV.DGI)) {\n        throw new Error('Not supported encoding mode');\n    }\n\n    this.tag    = TLV.adjustTag(tag, this.encodingMode); //string\n    this.value  = TLV.adjustValue(value);                //string\n    this.length = this.value.length / 2;                 //number\n\n    //to buffer\n    if (Buffer.isBuffer(value)) {\n        this.bValue = newBuffer(value);\n    } else {\n        this.bValue = newBuffer(this.value);\n    }\n\n    // buffered data\n    this.bTag = newBuffer(this.tag);\n    this.bLength = TLV.getBufferLength(this.length, this.encodingMode);\n    //size:  tag length , length length, value length\n    //Combined length of tag, length and value field\n    this.size = this.bTag.length + this.bLength.length + this.bValue.length;\n\n    var offset = 0;\n    var child;\n    this.info = {};\n    this.child = [];\n\n    if (this.encodingMode === TLV.DGI) {\n        // it's not spec.\n        if ((this.bValue[0] === 0x70) || (this.tag == '9102')) {\n            this.info.encoding = 'constructed';\n            this.isConstructed = true;\n            while(offset < this.length) {\n                child = TLV.parse(this.bValue.slice(offset));\n                offset += child.size;\n                this.child.push(child);\n            }\n        } else {\n            this.info.encoding = 'primitive';\n            this.isConstructed = false;\n        }\n    } else {\n        //info\n        this.name = Dictionary.getName(this.tag);\n        this.info = {};\n\n        var CLASS_UNIVERSAL             = 0x00; //0000 0000 b\n        var CLASS_APPLICATION           = 0x40; //0100 0000 b\n        var CLASS_CONTEXT_SPECIFIC      = 0X80; //1000 0000 b\n        var CLASS_PRIVATE               = 0xC0; //1100 0000 b\n\n        var ENCODING_PRIMITIVE          = 0x00; //0000 0000 b\n        var ENCODING_CONSTRUCTED        = 0x20; //0010 0000 b\n\n        //var SUBSEQUENT_BYTE             = 0x1F; //0001 1111 b\n        //var ANOTHER_SUBSEQUENT_BYTE     = 0x80; //1000 0000 b\n\n        var tlv_class       = this.bTag[0] & CLASS_PRIVATE;\n        var tlv_encoding    = this.bTag[0] & ENCODING_CONSTRUCTED;\n\n        switch(tlv_class) {\n            case CLASS_UNIVERSAL:\n                //'00 indicates a data object of the universal class'\n                this.info.clazz = 'universal';\n                break;\n            case CLASS_APPLICATION:\n                //'01 indicates a data object of the application class'\n                this.info.clazz = 'application';\n                break;\n            case CLASS_CONTEXT_SPECIFIC:\n                //'10 indicates a data object of the application class'\n                this.info.clazz = 'context specific';\n                break;\n            case CLASS_PRIVATE:\n                //'11 indicates a data object of the application class'\n                this.info.clazz = 'private';\n                break;\n        }\n\n        if(tlv_encoding === ENCODING_PRIMITIVE) {\n            //'bit 6 value 0 indicates a primitive encoding'\n            this.info.encoding = 'primitive';\n            this.isConstructed = false;\n        } else {\n            //'bit 6 value 1 indicates a constructed encoding'\n            this.info.encoding = 'constructed';\n            this.isConstructed = true;\n        }\n\n        setDecoder(this);\n\n        if(this.isConstructed) {\n            while(offset < this.length) {\n                child = TLV.parse(this.bValue.slice(offset));\n                child.parent = this;\n                setDecoder(child);\n                offset += child.size;\n                this.child.push(child);\n            }\n        }\n\n\n    }\n}\n\n/**\n * Return the value of the tag field of the TLV.\n *\n * @param {string} [encoding] return type ('number' / 'hex' / 'buffer'). 'hex' is default\n * @returns {string|number|buffer} string value of the tag\n */\nTLV.prototype.getTag =  function(encoding) {\n    //string\n    if (encoding === 'number') {\n        return toNumber(this.tag);\n    } else if (encoding === 'buffer') {\n        return toBuffer(this.tag);\n    } else {\n        return this.tag;\n    }\n};\n\n/**\n * Return the value of the length field of the TLV.\n *\n * @param {string} [encoding] return type ('number' / 'hex' / 'buffer'). 'number' is default\n * @returns {number|string|buffer} the length field of the TLV.\n */\nTLV.prototype.getLength = function(encoding) {\n    //number\n    if (encoding === 'hex') {\n        return toHexString(this.bLength);\n    } else if (encoding === 'buffer') {\n        return TLV.getBufferLength(this.length, this.encodingMode);\n    } else {\n        return this.length;\n    }\n};\n\n/**\n * Return the length of the TLV (tag + length + value)\n *\n * @returns {number} the length of the TLV\n */\nTLV.prototype.getSize = function() {\n    // number\n    return this.size;\n};\n\n/**\n * Return the value of the value field of the TLV.\n * @param {string} [encoding] return type ('buffer' / 'hex' / 'ascii'). 'hex' is default\n * @returns {string|Buffer} the value field of the TLV.\n */\nTLV.prototype.getValue = function(encoding) {\n    if (encoding === 'buffer') {\n        //buffer\n        return toBuffer(this.value);\n    } else if (encoding === 'ascii') {\n        return toAscii(this.value);\n    } else {\n        //string\n        return this.value;\n    }\n};\n\n/**\n * Return the name of the TLV.\n *\n * @returns {string} the name of the TLV.\n */\nTLV.prototype.getName = function() {\n    return this.name || '';\n};\n\n/**\n * Return the value of the encoding of the TLV.\n *\n * @returns {number} TLV.EMV / TLV.DGI\n */\nTLV.prototype.getEncoding = function() {\n    // TLV.EMV / TLV.DGI\n    return this.encodingMode;\n};\n\n/**\n * Return the value of the length field as string\n *\n * @returns {string} hex string\n */\nTLV.prototype.getL = function(flag) {\n    if (flag) {\n        return toHexString(this.length);\n    } else {\n        return toHexString(this.bLength);\n    }\n};\n\n/**\n * Return the value of the tag, length fields as string\n *\n * @returns {string} hex string\n */\nTLV.prototype.getTL = function() {\n    return this.tag + toHexString(this.bLength);\n};\n\n/**\n * Return the value of the length, value field as string\n *\n * @returns {string} hex string\n */\nTLV.prototype.getLV = function(flag) {\n    if (flag) {\n        return toHexString(this.length) + this.value;\n    } else {\n        return toHexString(this.bLength) + this.value;\n    }\n};\n\n/**\n * Return the value of the tag, value field as string.\n *\n * @returns {string} hex string\n */\nTLV.prototype.getTV = function() {\n    return this.tag + this.value;\n};\n\n/**\n * Return the value of the tag, length, value field as string.\n *\n * @returns {string} hex string\n */\nTLV.prototype.getTLV = function() {\n    return this.tag + toHexString(this.bLength) + this.value;\n};\n\n/**\n * Print the TLV structure.\n *\n * @param {number} [indent] tab space\n */\nTLV.prototype.print = function(indent) {\n\n    if (this.length === 0) {\n        return;\n    }\n\n    var tab = '\\t';\n    indent = indent || 0;\n\n    var prefix = '';\n    for(var i=0; i<indent; i++) {\n        prefix += tab;\n    }\n\n    var tld = this.tag + ' ' + toHexString(this.bLength) + ' (' + this.length + ')';\n\n    if (this.name !== undefined) {\n        tld = tld + ' [' + this.name + ']';\n    }\n\n    console.log(prefix + tld);\n\n    //value\n\n    if (this.child.length !== 0) {\n        this.child.forEach(function(child){\n            child.print(indent + 1);\n        });\n    } else {\n        console.log(prefix + tab + this.value);\n\n        if (this.desc) {\n            var arr = this.desc(this);\n            if (arr.length !== 0) {\n                console.log(prefix + tab + arr.join('\\n' + prefix + tab));\n            }\n        }\n    }\n};\n\nTLV.prototype.print2 = function(indent) {\n\n    if (this.length === 0) {\n        return;\n    }\n\n    var tab = '\\t';\n    indent = indent || 0;\n\n    var prefix = '';\n    for(var i=0; i<indent; i++) {\n        prefix += tab;\n    }\n\n    //var tld = this.tag + ' ' + toHexString(this.bLength) + ' (' + this.length + ')';\n\n    var tld = \"'\" + this.tag + \"', \";\n\n    var tag_name = '';\n    if (this.name !== undefined) {\n        tag_name = ' // ' + this.name;\n    }\n\n    //console.log(prefix + tld);\n\n    //value\n\n    if (this.child.length !== 0) {\n        this.child.forEach(function(child){\n            child.print2(indent + 1);\n        });\n    } else {\n        //console.log(prefix + tab + this.value);\n        console.log(\"TLV(\" + tld + \"'\" + this.value + \"'), \" + tag_name);\n\n        if (this.desc) {\n            var arr = this.desc(this);\n            // if (arr.length !== 0) {\n            //     console.log(prefix + tab + arr.join('\\n' + prefix + tab));\n            // }\n        }\n    }\n};\n\n\n/**\n * Get child TLV objects.\n *\n * @returns {TLV[]} array of TLV\n */\nTLV.prototype.getChild = function () {\n    // tlv (array)\n    return this.child;\n};\n\n\n/**\n * Find tlv object.\n *\n * @param {string | number} tag\n * @returns {TLV}\n */\nTLV.prototype.find = function(tag) {\n    var upperTAG = TLV.adjustTag(tag);\n\n    var child;\n    var tlv;\n    for (var i=0; i<this.child.length; i++) {\n        child = this.child[i];\n        if (child.tag === upperTAG) {\n            return this.child[i];\n        }\n\n        if (child.isConstructed) {\n            tlv = this.child[i].find(tag);\n            if(tlv !== undefined) {\n                return tlv;\n            }\n        }\n    }\n};\n\n/**\n * Find tlv object.\n *\n * @param {string | number} tag\n * @returns {[TLV]]} list of tlv \n */\nTLV.prototype.findAll = function(tag) {\n    var upperTAG = TLV.adjustTag(tag);\n\n    var child;\n    var results = []\n    var tlv;\n    for (var i=0; i<this.child.length; i++) {\n        child = this.child[i];\n        if (child.tag === upperTAG) {\n            results.push(child)\n        }\n\n        if (child.isConstructed) {\n            tlv = child.findAll(tag);\n            if(tlv.length !== 0) {\n                results = results.concat(tlv)\n            }\n        }\n    }\n    return results\n};\n\n\n\n/**\n * ditto getTLV().\n *\n * @returns {string} hex string\n */\nTLV.prototype.toString = function() {\n    return this.getTLV();\n};\n\n\n/**\n * Get Child TLV objects.\n *\n * @param {string | number} tag\n * @returns {TLV[]} array of TLV\n */\nTLV.prototype.getTlvByTag = function(tag) {\n    var upperTAG;\n    var all = false;\n    if ((tag === '*') || (tag === '') || (tag === undefined)) {\n        all = true;\n    } else {\n        upperTAG = TLV.adjustTag(tag);\n    }\n\n    var ret = [];\n    var child;\n    for (var i=0; i<this.child.length; i++) {\n        child = this.child[i];\n        if ((all === true) || (child.tag === upperTAG)) {\n            ret.push(child);\n        }\n\n        if (child.isConstructed) {\n            ret = ret.concat(child.getTlvByTag(tag));\n        }\n    }\n\n    return ret;\n};\n\n\nTLV.prototype.parseDolValue = function() {\n    return DOL.parse(this.getValue());\n};\n\n// static api\n\n/**\n * Get TLV objects.\n *\n * @param data\n * @param encoding\n * @returns {TLV[]} array of TLV\n */\nTLV.parseList = function(data, encoding) {\n    encoding = encoding || TLV.EMV;\n\n    var tlv = new TLV(0x20, data, encoding); // tag for constructed encoding\n\n\n    return tlv.getChild();\n};\n/**\n * Parse\n * @param {string | Buffer} data TAG, LENGTH, VALUE hex string\n * @param {number} [encoding] TLV.EMV / TLV.DGI\n * @returns {TLV}\n */\nTLV.parse = function(data, encoding) {\n\n    encoding = encoding || TLV.EMV;\n\n    var buf = toBuffer(data);\n\n    var tag;\n    var lenTag;\n    var length;\n    var len;  // byte length of length\n    var value;\n\n    // DGI TLV\n    if (encoding === TLV.DGI) {\n        if (buf.length < 3) {\n            throw Error('Invalid data');\n        }\n        var pos;\n        tag = toHexString(buf.slice(0, 2));\n\n        if (buf[2] === 0xff) {\n            length = buf[3] << 8 | buf[4];\n            pos = 5;\n        } else {\n            length = buf[2];\n            pos = 3;\n        }\n\n        value = buf.slice(pos, pos+length);\n        return new TLV(tag, value, encoding);\n\n    } else {\n        // EMV TLV\n        lenTag = 1;\n        if((buf[0] & 0x1f) === 0x1f) { // subsequent byte\n            var idx = 1;\n            do {\n                lenTag++;\n                if (idx > 4) {\n                    throw Error('Invalid tag length');\n                }\n            } while((buf[idx++] & 0x80) === 0x80); // another subsequent byte\n        }\n\n        // handle tag\n        tag = toHexString(buf.slice(0, lenTag));\n\n        var lenOffset = lenTag;\n\n        //81, 82, 83, 84\n        if((buf[lenOffset] & 0x80) === 0x80) {\n            len = (buf[lenOffset] & 0x7F) + 1;\n        } else {\n            len = 1;\n        }\n\n        // handle length\n        if (len === 1) {\n            length = buf[lenOffset];\n        } else if (len === 2) {\n            length = buf[(lenOffset + 1)];\n        } else if (len === 3) {\n            length = (buf[(lenOffset+1)] << 8) | buf[(lenOffset+2)];\n        } else if (len === 4) {\n            length = (buf[(lenOffset+1)] << 16) | (buf[(lenOffset+2)] << 8) | buf[(lenOffset+3)];\n        } else if (len === 5) {\n            length = (buf[(lenOffset+1)] << 24) | (buf[(lenOffset+2)] << 16) | (buf[(lenOffset+3)] << 8) | (buf[(lenOffset+4)]);\n        } else {\n            throw Error('Invalid length');\n        }\n\n        //handle value\n        value = buf.slice(lenTag + len, lenTag+len+length);\n        return new TLV(tag, value, encoding);\n    }\n};\n\n/**\n * Return value of the length field as string.\n *\n * @param {string | Buffer | number} tag\n * @returns {string} hex string\n * @constructor\n */\nTLV.T = function(tag) {\n    var tlv = new TLV(tag, '');\n    return tlv.getTag();\n};\n\nTLV.log = function(data, encoding) {\n    TLV.parse(data, encoding).print();\n};\n\n/**\n * Return value of the length field as string.\n *\n * @param {string | Buffer} value\n * @param {boolean} [flag] default false\n * @returns {string} hex string\n */\nTLV.L = function(value, flag) {\n    var tlv = new TLV('', value);\n    return tlv.getL(flag);\n};\n\n\n/**\n * Return value of the length field and the value field as string\n *\n * @param {string | Buffer} value\n * @param {boolean} [flag]\n * @return {string}\n */\nTLV.LV = function (value, flag) {\n    var tlv = new TLV('', value);\n    return tlv.getLV(flag);\n};\n\n/**\n * Return value of the value field as string\n *\n * @param value\n * @returns {string}\n * @constructor\n */\nTLV.V = function (value) {\n    var tlv = new TLV('', value);\n    return tlv.getValue();\n};\n\n/**\n *\n * @param {string | number} tag\n * @param {string} value\n * @param {number} [encoding] TLV.EMV / TLV.DGI\n * @return {string}\n */\nTLV.TLV = function(tag, value, encoding) {\n    var tlv = new TLV(tag, value, encoding);\n    // string\n    return tlv.getTLV();\n};\n\n/**\n *\n * @param buf\n * @param encoding\n * @returns {Buffer}\n */\nTLV.getBufferTag = function(buf, encoding) {\n\n    if ((buf === undefined) || (buf.length === 0)) {\n        throw Error('Invalid data');\n    }\n\n    if (encoding === TLV.DGI) {\n        if (buf.length < 2) {\n            throw new Error('Invalid Tag length TLV.DGI')\n        }\n        return buf.slice(0, 2);\n    } else {\n        // SUBSEQUENT_BYTE              0x1f 0b0001 1111\n        // ANOTHER_SUBSEQUENT_BYTE      0x80 0b1000 0000\n        var lenTag = 1;\n        if((buf[0] & 0x1f) === 0x1f) { // subsequent byte\n            var idx = 1;\n            do {\n                lenTag++;\n            }while((buf[idx] & 0x80) === 0x80); // another subsequent byte\n\n            if (idx > 4) {\n                throw Error('Invalid tag length TLV.EMV');\n            }\n        }\n\n        return buf.slice(0, lenTag);\n    }\n};\n\n/**\n *\n * @param {number} len\n * @param {number} [encoding]\n * @returns {Buffer}\n */\nTLV.getBufferLength = function(len, encoding) {\n\n    var bLen;\n\n    if (encoding === TLV.DGI) {\n        if (len > 0xFE) {\n            bLen = newBuffer(3);\n            bLen[0] = 0xff;\n            bLen[1] = len >>> 8;\n            bLen[2] = len;\n        } else {\n            bLen = newBuffer(1);\n            bLen[0] = len;\n        }\n    } else {\n        // refer to Table 8 ? BER-TLV length fields in ISO/IEC 7816\n        if(len < 0x80) { //  0x00 ~ 0x7f\n            bLen = newBuffer(1);\n            bLen[0] = len;\n        } else if(len < 0x0100) { //  0x00 ~ 0xff\n            bLen = newBuffer(2);\n            bLen[0] = 0x81;\n            bLen[1] = len;\n        } else if (len < 0x010000) { // 0x0000~0xffff\n            bLen = newBuffer(3);\n            bLen[0] = 0x82;\n            bLen[1] = len >>> 8;\n            bLen[2] = len;\n        } else if (len < 0x01000000) { // 0x00000000 to 0x00ffffff\n            bLen = newBuffer(4);\n            bLen[0] = 0x83;\n            bLen[1] = len >>> 16;\n            bLen[2] = len >>> 8;\n            bLen[3] = len;\n        } else {\n            bLen = newBuffer(5);\n            bLen[0] = 0x84;\n            bLen[1] = len >>> 24;\n            bLen[2] = len >>> 16;\n            bLen[3] = len >>> 8;\n            bLen[4] = len;\n        }\n    }\n\n    return bLen;\n};\n\n/**\n *\n * @param {string | Buffer | number} tag\n * @param {number} [encoding]\n * @returns {string}\n */\nTLV.adjustTag = function (tag, encoding) {\n\n    tag = tag || '';\n\n    var ret;\n    if (typeof tag === 'number') {\n        ret = toHexString(tag);\n    } else if (typeof tag === 'string') {\n        tag = strip(tag);\n        if ((tag.length === 0) || (tag === '')) {\n            ret = '';\n        } else {\n            var num = toNumber(tag);\n            ret = toHexString(num);\n        }\n    } else if (Buffer.isBuffer(tag)) {\n        if (tag.length > 3) {\n            throw new Error('Invalid tag length: ' + tag.length);\n        }\n        ret = toNumber(tag); // '[00, 82]' -> 82\n        ret = toHexString(ret);  // 82 -> '82'\n    } else {\n        throw new Error('Invalid tag type');\n    }\n\n    \n    if ((encoding === TLV.DGI) && (ret.length !== 4)) {\n        // dgi tag length have to be 2 byte\n        //throw Error('Invalid DGI tag');\n        ret += '00';\n    }\n\n    return ret;\n};\n\n/**\n *\n * @param {string | Buffer} value\n *\n * @returns {string}\n */\nTLV.adjustValue = function(value) {\n    value = value || '';\n\n    if (Buffer.isBuffer(value)) {\n        return toHexString(value);\n    } else if (typeof value === 'string') {\n        value = strip(value);\n        if ((value.length & 0x01) === 0x01) {\n            throw Error('Invalid value length');\n        }\n        return value;\n    } else if (value instanceof TLV) {\n        return value.toString();\n    } else {\n        throw Error('Invalid value type: ' + typeof (value));\n    }\n};\n\n/**\n *\n * @param {number | string} length number or hex string\n * @returns {number}\n */\nTLV.adjustLength = function(length) {\n    var ret;\n\n    length = length || 0;\n\n    if (typeof length === 'number') {\n        ret = length;\n    } else if (typeof length === 'string') {\n        length = strip(length);\n        ret = toNumber(length);\n    } else {\n        throw new Error('Invalid tag type');\n    }\n    return ret;\n};\n\n/**\n * Return the name of the TLV.\n *\n * @param {number | string} tag\n * @returns {string} the name of the TLV.\n */\nTLV.getName = function (tag) {\n    return Dictionary.getName(toHexString(tag)) || '';\n};\n\n\n\n\n\n\n\n\n\n/**\n *\n * @param tag\n * @param length\n * @returns {TL}\n * @constructor\n */\nfunction TL(tag, length) {\n    if (!(this instanceof TL)) {\n        return new TL(tag, length);\n    }\n\n    this.tag    = TLV.adjustTag(tag);\n    this.length = TLV.adjustLength(length);\n\n    this.bTag = newBuffer(this.tag);\n    this.bLength = TLV.getBufferLength(this.length);\n    this.size = this.bTag.length + this.bLength.length;\n\n    this.name = Dictionary.getName(this.tag);\n}\n\n/**\n * Return the value of the tag field of the TL.\n *\n * @returns {string|number} string value of the tag\n */\nTL.prototype.getTag = function(type) {\n    if (type === 'number') {\n        return toNumber(this.tag);\n    } else {\n        return this.tag;\n    }\n};\n\nTL.prototype.getLength = function() {\n    return this.length;\n};\n\nTL.prototype.getSize = function() {\n    return this.size;\n};\n\nTL.prototype.getName = function() {\n    return this.name;\n};\n\nTL.prototype.setValue = function(value) {\n    this.value = toHexString(value);\n};\n\nTL.prototype.getTL = function() {\n    return this.tag + toHexString(this.bLength);\n};\n\n\nTL.prototype.getL = function(flag) {\n    if (flag) {\n        return toHexString(this.length);\n    } else {\n        return toHexString(this.bLength);\n    }\n};\n\nTL.prototype.toString = function() {\n    return this.getTL();\n};\n\nTL.prototype.toTLV = function(value) {\n    return new TLV(this.tag, value);\n};\n\nTL.prototype.print = function(indent) {\n    if (this.length === 0) {\n        return;\n    }\n\n    var tab = '\\t';\n    indent = indent || 0;\n\n    var prefix = '';\n    for(var i=0; i<indent; i++) {\n        prefix += tab;\n    }\n\n    var tld = this.tag + ' ' + toHexString(this.bLength) + ' (' + this.length + ')';\n\n    if (this.name !== undefined) {\n        tld = tld + ' [' + this.name + ']';\n    }\n\n    console.log(prefix + tld);\n};\n\nfunction DOL(dolData) {\n    var buf = toBuffer(dolData);\n\n    var offset = 0;\n    var tag;\n    var lenTag;\n    var length;\n    var len;  // byte length of length\n\n    this.list = [];\n\n    do {\n        lenTag = 1;\n        if((buf[offset] & 0x1f) === 0x1f) { // subsequent byte\n            var idx = offset + 1;\n            do {\n                lenTag++;\n            }while((buf[idx] & 0x80) === 0x80); // another subsequent byte\n        }\n\n        // handle tag\n        tag = toHexString(buf.slice(offset, (offset + lenTag)));\n        offset += lenTag;\n\n        var lenOffset = offset;\n        len = 1;\n\n        //81, 82, 83, 84\n        if((buf[lenOffset] & 0x80) === 0x80) {\n            len = (buf[lenOffset] & 0x7F) + 1;\n        }\n\n        // handle length\n        if (len === 1) {\n            length = buf[lenOffset]; offset += 1;\n        } else if (len === 2) {\n            length = buf[(lenOffset + 1)]; offset += 2;\n        } else if (len === 3) {\n            length = (buf[(lenOffset+1)] << 8) | buf[(lenOffset+2)]; offset += 3;\n        } else if (len === 4) {\n            length = (buf[(lenOffset+1)] << 16) | (buf[(lenOffset+2)] << 8) | buf[(lenOffset+3)]; offset += 4;\n        } else if (len === 5) {\n            length = (buf[(lenOffset+1)] << 24) | (buf[(lenOffset+2)] << 16) | (buf[(lenOffset+3)] << 8) | (buf[(lenOffset+4)]); offset += 5;\n        } else {\n            console.log('error:' + this.tag );\n            return;\n            //throw Error('Invalid length');\n        }\n\n        this.list.push(new TL(tag, length));\n\n    } while(offset < buf.length);\n\n}\n\nDOL.prototype.print = function() {\n\n    this.list.forEach(function(item) {\n        item.print();\n    });\n};\n\nDOL.prototype.setValue = function(values) {\n    values = toBuffer(values);\n\n    var offset = 0;\n    var tlvlist = [];\n    this.list.forEach(function(item) {\n        var tag   = item.getTag();\n        var length = item.getLength();\n        var value = un(values, offset, length);\n        offset += length;\n\n        item.setValue(value);\n        tlvlist.push(new TLV(tag, value));\n    });\n\n    return tlvlist;\n};\n\nDOL.prototype.getList = function() {\n    return this.list;\n};\n\nDOL.prototype.find = function(tag) {\n    tag = TLV.adjustTag(tag);\n\n    this.list.forEach(function(item) {\n        if (tag === item.tag) {\n            return item;\n        }\n    });\n};\n\nDOL.prototype.count = function() {\n    return this.list.length;\n};\n\nDOL.prototype.getDolRelatedDataLength = function() {\n\n    var len = 0;\n    this.list.forEach(function(item) {\n        len += item.length;\n    });\n\n    return len;\n};\n\n/**\n *\n * @param {string | Number} dolData\n * @return {DOL}\n */\nDOL.parse = function(dolData) {\n    return new DOL(dolData);\n};\n\n\nmodule.exports = TLV;\n\n\n//FIXME add command api\n//FIXME add TLV async api\n//FIXME DOL to TLV API\n//TODO TLV Builder\n//TODO TLV Decoder\n", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.toJson = void 0;\r\nconst TLV = require('@kawkab-oss/node-tlv');\r\nconst Buffer = require('buffer/').Buffer; // note: the trailing slash is important!\r\nlet fatooraAsJson = {\r\n    VATAmount: { tag: 4, value: 0 },\r\n    VATNumber: { tag: 1, value: 0 },\r\n    invoiceAmount: { tag: 3, value: 0 },\r\n    sellerName: { tag: 0, value: '' },\r\n    timestamp: { tag: 2, value: '' }\r\n};\r\nfunction toJson(base64String) {\r\n    try {\r\n        // parse base64 to hex[]\r\n        const listOfHex = TLV.parseList(Buffer.from(base64String, 'base64').toString('hex'));\r\n        // go through all supported keys and map the values\r\n        Object.keys(fatooraAsJson).forEach((k) => {\r\n            // parse hex to string & map values to the object.\r\n            const tagIndex = fatooraAsJson[k].tag;\r\n            const tagType = typeof fatooraAsJson[k].value;\r\n            const value = Buffer.from(listOfHex[tagIndex].getValue(), 'hex').toString('utf-8');\r\n            fatooraAsJson[k].value = parseValue(tagType, value);\r\n        });\r\n    }\r\n    catch (e) {\r\n        throw new Error('Fatoora-parser: ' + e.message + '. CHECK your base64 string');\r\n    }\r\n    return fatooraAsJson;\r\n}\r\nexports.toJson = toJson;\r\nfunction parseValue(type, value) {\r\n    switch (type) {\r\n        case 'number':\r\n            return +value;\r\n        default:\r\n            return value;\r\n    }\r\n}\r\n", "import {Handler} from '@netlify/functions';\nimport {toJson} from '@kawkab-oss/fatoora-parser';\n\nexport const handler: Handler = async (event, context) => {\n  console.log(event.headers.host);\n  const body = JSON.parse(event.body);\n  let response = {};\n  try {\n    const fatoora = toJson(body.base64);\n    response = {\n      statusCode: 200,\n      body: JSON.stringify(fatoora),\n    };\n  } catch (e) {\n    response = {\n      st\n    }\n  }\n  return response;\n};\n"],
  "mappings": "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,MAAO;AAAA,MACP,MAAO;AAAA,MACP,MAAO;AAAA,MAEP,MAAO;AAAA,MACP,MAAO;AAAA,MACP,MAAO;AAAA,MACP,MAAO;AAAA,MACP,MAAO;AAAA,MACP,MAAO;AAAA,MACP,MAAO;AAAA,MACP,MAAO;AAAA,MACP,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,MAAO;AAAA,MACP,QAAS;AAAA,MAGT,MAAO;AAAA,MAKP,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,QAAS;AAAA,MACT,UAAW;AAAA,MACX,UAAW;AAAA,MACX,UAAW;AAAA,MACX,UAAW;AAAA,MACX,UAAW;AAAA,MACX,UAAW;AAAA,MACX,UAAW;AAAA,MACX,UAAW;AAAA,MACX,UAAW;AAAA,MACX,UAAW;AAAA,MACX,UAAW;AAAA,MACX,UAAW;AAAA,MACX,UAAW;AAAA,MACX,UAAW;AAAA,MACX,UAAW;AAAA,MACX,UAAW;AAAA,MACX,UAAW;AAAA,MACX,UAAW;AAAA,MACX,UAAW;AAAA,MACX,UAAW;AAAA,MACX,UAAW;AAAA,MACX,UAAW;AAAA,MACX,UAAW;AAAA,MACX,UAAW;AAAA,MACX,UAAW;AAAA,MACX,UAAW;AAAA,MACX,UAAW;AAAA,MACX,UAAW;AAAA,MACX,UAAW;AAAA,MACX,UAAW;AAAA,MACX,UAAW;AAAA,MACX,UAAW;AAAA,MACX,UAAW;AAAA,MACX,UAAW;AAAA,MACX,UAAW;AAAA,MACX,UAAW;AAAA,MACX,UAAW;AAAA,MACX,UAAW;AAAA,MACX,UAAW;AAAA,MACX,UAAW;AAAA,MACX,UAAW;AAAA,MACX,UAAW;AAAA,MACX,UAAW;AAAA,MACX,UAAW;AAAA,MACX,UAAW;AAAA,MACX,UAAW;AAAA,MACX,UAAW;AAAA,MACX,UAAW;AAAA,MACX,UAAW;AAAA,MACX,UAAW;AAAA,MACX,UAAW;AAAA,MACX,UAAW;AAAA,MACX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",
  "names": []
}
